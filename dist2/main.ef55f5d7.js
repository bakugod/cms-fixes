!function(e){function t(t){for(var r,i,l=t[0],c=t[1],u=t[2],p=0,d=[];p<l.length;p++)i=l[p],o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;a.push([524,0]),n()}({111:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,l=n(0),c=n(10),u=n(38).default.div(i||(i=o(["\n  .ant-card-head-title {\n    top: -8px !important;\n  }\n"],["\n  .ant-card-head-title {\n    top: -8px !important;\n  }\n"]))),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=(e.isAdd,e.style),n=e.title,r=e.children;return l.createElement(u,null,l.createElement(c.Card,{style:t,title:n},r))},t.defaultProps={isAdd:!1,style:null},t}(l.Component);t.default=s},113:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(293),i={token:null,user:null,loading:!0,path:n(116).PATHS.CONTENT,login:"",pw:"",code:0,client:"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36"};t.setUser=a.createAction("@@auth/SET_USER"),t.login=a.createAction("@@auth/LOGIN"),t.logout=a.createAction("@@auth/LOGOUT"),t.toggleLoader=a.createAction("@@auth/TOGGLE_LOADER"),t.setTokenToLS=a.createAction("@@auth/SET_TOKEN_TO_LS"),t.updateEvent=a.createAction("@@auth/UPDATE_EVENT"),t.setMenu=a.createAction("@@auth/SET_MENU"),t.setStatus=a.createAction("@@auth/SET_Status"),t.default=a.handleActions(((o={})[t.setStatus.toString()]=function(e,t){return r({},e,{code:t.payload.code})},o[t.setUser.toString()]=function(e,t){return r({},e,{user:t.payload.user,token:t.payload.token})},o[t.login.toString()]=function(e,t){return r({},e,{login:"",pw:""})},o[t.logout.toString()]=function(e){return r({},e,{user:null,loading:!1,token:"",path:e.path})},o[t.toggleLoader.toString()]=function(e,t){return r({},e,{loading:t.payload})},o[t.setMenu.toString()]=function(e,t){return r({},e,{path:t.payload.menuPath})},o[t.updateEvent.toString()]=function(e,t){return r({},e,{user:r({},e.user,{appdata:r({},e.user.appdata,{eventName:t.payload.name,eventID:t.payload.id,eventTimeShift:t.payload.timeShift})})})},o),i)},116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(134),a=n(601),i=n(1279),l=n(1281),c=n(1476),u=n(1505),s=n(1507),p=n(1510),d=n(1513),f=n(1514),m=n(478),h=n(1516);t.PATHS={MAIN:"/",MENU_EDIT:"/menu",CONTENT:"/content",PEOPLE:"/people",COMPANY:"/company",EVENTS:"/events",PEOPLE_SECTION:"/people-section",COMPANY_SECTION:"/company-section",ICONS:"/icons",LOCATIONS:"/locations",LOGIN:"/login",SELECT_APP:"/select",SIGNUP:"/signup",FILEPICKER:"/filepicker"};var g=function(){return r.createElement(a.default,{type:"Development"})};t.publicRoutes=r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:t.PATHS.SIGNUP,component:m.default}),r.createElement(o.Route,{render:function(){return r.createElement(a.default,{type:"Forbidden"})}})),t.privateRoutes=r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:t.PATHS.SELECT_APP,component:h.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.MAIN,component:i.default}),r.createElement(o.Route,{path:t.PATHS.SIGNUP,render:function(){return r.createElement(a.default,{type:"SignUp"})}}),r.createElement(o.Route,{exact:!0,path:t.PATHS.MENU_EDIT,component:l.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.CONTENT,component:c.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.PEOPLE,component:u.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.COMPANY,component:f.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.EVENTS,component:s.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.FILEPICKER,component:p.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.LOCATIONS,component:d.default}),r.createElement(o.Route,{exact:!0,path:t.PATHS.PEOPLE_SECTION,render:g}),r.createElement(o.Route,{exact:!0,path:t.PATHS.COMPANY_SECTION,render:g}),r.createElement(o.Route,{render:function(){return r.createElement(a.default,{type:"NotFound"})}}))},1273:function(e,t,n){var r={"./ru":477,"./ru.js":477};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1273},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH="/api/auth",t.SIGNUP="/api/registration",t.LOGIN="/api/login",t.LOGOUT="/api/logout"},1275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=function(){function e(){}return e.getData=function(e){return void 0===e&&(e=r.TOKEN_KEY),localStorage.getItem(e)},e.setToken=function(e){localStorage.setItem(r.TOKEN_KEY,e)},e}();t.default=o},1276:function(e,t,n){},1277:function(e,t,n){},1279:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);n(1280);var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null)},t}(a.Component);t.default=i},1280:function(e,t,n){},1281:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(43),l=n(13),c=n(67),u=n(10),s=n(131),p=n(1282),d=u.Layout.Sider,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){this.props.getMenu()},t.prototype.render=function(){return a.createElement(d,{width:650,style:{background:"#fff",marginLeft:185}},a.createElement(p.default,null))},t}(a.Component);t.default=i.compose(c.withRouter,l.connect(null,function(e){return{getMenu:function(){return e(s.CommonApi.getMenu())}}}))(f)},1282:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n(13),u=n(10),s=n(20),p=n(38),d=n(1283);n(1473);var f,m,h,g,y=n(92),E=n(63),v=n(178),_=n(1474),b=n(59),C=n(66),w=n(22),O=n(131),S=n(53),P=p.default.div(f||(f=o(["\n  .ant-select-auto-complete.ant-select .ant-select-selection__placeholder {\n    top: 16px;\n  }\n"],["\n  .ant-select-auto-complete.ant-select .ant-select-selection__placeholder {\n    top: 16px;\n  }\n"]))),A=(p.default.div(m||(m=o(["\n  .ant-layout-sider-children{\n\n  }\n"],["\n  .ant-layout-sider-children{\n\n  }\n"]))),p.default.div(h||(h=o(["\n  width: 100%;\n  \n  .ant-row {\n    width: 100%;\n  }\n"],["\n  width: 100%;\n  \n  .ant-row {\n    width: 100%;\n  }\n"])))),M=p.default.div(g||(g=o(["\n  .sketch-picker {\n    margin: 0 auto;\n  }\n"],["\n  .sketch-picker {\n    margin: 0 auto;\n  }\n"]))),x=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeSort=function(e,t,r){return void 0===r&&(r=!0),function(){var o,a=n.props,i=a.updateSort,l=a.menu;i(((o={})[e]=r?t+1:t-1,o[l.data[t+(r?1:-1)].id]=t,o))}},n.getListContent=function(e,t){var r=n.props,o=r.menu,a=r.modules,i=s.get(a.find(function(t){return+t.id==+e.module}),"name","");return l.createElement(u.List.Item,null,l.createElement(A,null,l.createElement(u.Row,null,l.createElement(u.Col,{span:2},l.createElement(u.Icon,{type:"up",style:{cursor:"pointer",visibility:0!==t?"visible":"hidden"},onClick:n.onChangeSort(e.id,t,!1)}),l.createElement(u.Icon,{type:"down",style:{cursor:"pointer",visibility:t!==o.data.length-1?"visible":"hidden"},onClick:n.onChangeSort(e.id,t,!0)})),l.createElement(u.Col,{span:2},e.pic.includes("http")?l.createElement("img",{src:e.pic,className:b.default("menu","img"),style:{cursor:"pointer"},onClick:n.toggleIconModal(e.pic,e.id)}):l.createElement(C.default,{onClick:n.toggleIconModal(e.pic,e.id)})),l.createElement(u.Col,{span:8,offset:1},l.createElement(E.default,{value:e.name,placeholder:"Введите имя",onBlur:n.onUpdate(e.id,"name")}),l.createElement("br",null),l.createElement("br",null),l.createElement(P,null,l.createElement(y.default,{value:i,placeholder:"Тип модуля",onPick:n.onUpdate(e.id,"module","value",function(e){return+a.find(function(t){return t.name===e}).id}),data:a.map(function(e){return e.name}),style:{width:"100%"}}))),l.createElement(u.Col,{span:4,offset:1},l.createElement(v.default,{text:"Активно",value:Boolean(e.enabled),onChange:n.onUpdate(e.id,"enabled","checked",function(e){return+e})}),l.createElement("br",null),l.createElement(v.default,{text:"Видимость",value:Boolean(e.visible),onChange:n.onUpdate(e.id,"visible","checked",function(e){return+e})})),l.createElement(u.Col,{span:5},l.createElement(v.default,{text:"Особый цвет?",value:Boolean(e.customColor),onChange:n.onUpdate(e.id,"customColor","checked",function(e){return+e})}),l.createElement("br",null),l.createElement("div",{style:{width:16,height:16,background:"#"+e.color,display:"inline-block",border:"1px solid grey",marginTop:2,borderRadius:2,cursor:"pointer"},onClick:n.toggleColorModal(e.color,e.id)}),l.createElement("span",{style:{cursor:"pointer"},onClick:n.toggleColorModal(e.color,e.id)}," Выбрать цвет")),l.createElement(u.Col,{span:1},l.createElement(u.Popconfirm,{title:"Вы уверены?",onConfirm:n.removeMenu(e.id),okText:"Да",cancelText:"Нет"},l.createElement(u.Icon,{type:"close",style:{cursor:"pointer"}}))))))},n.onUpdate=function(e,t,r,o){return void 0===r&&(r="value"),function(a){return n.props.updateMenu(e,t,o?o(s.get(a,"target."+r,a)):s.get(a,"target."+r,a))}},n.toggleAddMenu=function(){return n.setState({isShowAddMenu:!n.state.isShowAddMenu})},n.toggleColorModal=function(e,t){return function(){var r=n.state.isShowColorModal;if(!r)return n.setState({isShowColorModal:!r,pickerColor:e,currentIdInModal:t});n.setState({isShowColorModal:!r})}},n.toggleIconModal=function(e,t){return function(){var r=n.state.isShowIconsModal;if(!r)return n.setState({isShowIconsModal:!r,currentIdInModal:t,currentIcon:e});n.setState({isShowIconsModal:!r})}},n.updateModal=function(e,t,r){return function(){n.props.updateMenu(e,t,r),n.setState({isShowColorModal:!1,isShowIconsModal:!1})}},n.handleChangeComplete=function(e){return n.setState({pickerColor:e.hex.replace("#","")})},n.closeModal=function(){return n.setState({isShowColorModal:!1,isShowIconsModal:!1,isShowAddMenu:!1})},n.renderIconItem=function(e){return l.createElement(u.List.Item,{actions:[l.createElement("a",{key:1,onClick:n.updateModal(n.state.currentIdInModal,"pic",e.url)},"Выбрать")]},l.createElement(u.Skeleton,{title:!1,loading:!1,avatar:!0,active:!0},l.createElement(u.List.Item.Meta,{avatar:l.createElement(u.Avatar,{src:e.url})})),n.state.currentIcon===e.url&&l.createElement("div",null,"Текущая"))},n.removeMenu=function(e){return function(){return n.props.removeMenu(e)}},n.getTitleByModalType=function(e,t,n){return e?"Выберите цвет":t?"Выберите иконку":n?"Новое меню":""},n.state={isShowColorModal:!1,isShowIconsModal:!1,isShowAddMenu:!1,pickerColor:"ffffff",currentIcon:"",currentIdInModal:null},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.getIcons;(0,e.getModules)(),t()},t.prototype.render=function(){var e=this.props,t=e.icons,n=e.menu,r=this.state,o=r.isShowColorModal,a=r.isShowIconsModal,c=r.isShowAddMenu,s=r.pickerColor,p=r.currentIdInModal,f=o||a||c,m=c||!f?{footer:null}:a?{footer:[l.createElement(u.Button,{key:"back",onClick:this.closeModal},"Закрыть окно")]}:{footer:[l.createElement(u.Button,{key:"back",onClick:this.closeModal},"Закрыть окно"),l.createElement(u.Button,{key:"pick",type:"primary",onClick:this.updateModal(p,"color",s)},"Выбрать цвет")]};return l.createElement(l.Fragment,null,l.createElement(u.Card,{title:"Меню",extra:l.createElement(u.Button,{icon:"plus",onClick:this.toggleAddMenu},"Добавить меню"),bodyStyle:{display:"none"}}),l.createElement("div",{style:{height:1e3,overflowY:"scroll"}},l.createElement(u.List,{dataSource:n.data,renderItem:this.getListContent})),l.createElement(u.Modal,i({title:f?this.getTitleByModalType(o,a,c):"",visible:f,width:782,onOk:o?this.updateModal(p,"color",s):null,okText:"Выбрать "+(o?"цвет":"иконку"),onCancel:this.closeModal,cancelText:"Закрыть окно"},m),o&&l.createElement(M,null,l.createElement(d.SketchPicker,{color:"#"+s,onChangeComplete:this.handleChangeComplete})),a&&l.createElement(u.List,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:t,renderItem:this.renderIconItem}),c&&l.createElement(u.Card,null,l.createElement(_.default,{onSend:this.toggleAddMenu}))))},t}(l.Component),T=w.getMenu();t.default=c.connect(function(e){return{menu:T(e),modules:w.getModules(e),icons:w.getIcons(e)}},function(e){return{getMenu:function(){return e(O.CommonApi.getMenu())},getModules:function(){return e(O.CommonApi.getModules())},updateMenu:function(t,n,r){return e(S.MenuEditListApi.updateMenu(t,n,r))},removeMenu:function(t){return e(S.MenuEditListApi.removeMenu(t))},updateSort:function(t){return e(S.MenuEditListApi.updateSort(t))},getIcons:function(){return e(S.MenuEditListApi.getIcons())}}})(x)},131:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),l=n(60),c=n(90),u=n(75),s=function(){function e(){}return e.getModules=function(){return function(t,n){return r(a,void 0,void 0,function(){var r,a,i,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r=n().auth.token,a=n().auth.user,i=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),[4,u.default.get(c.GET_MODULES,i)];case 1:return[4,o.sent().json()];case 2:return s=o.sent(),t(l.setModule({data:s.data})),[3,4];case 3:return o.sent(),e.getError("модули"),[3,4];case 4:return[2]}})})}},e.getMenu=function(){return function(t,n){return r(a,void 0,void 0,function(){var r,a,i,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r=n().auth.token,a=n().auth.user,i=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),[4,u.default.get(c.GET_MENUS,i)];case 1:return[4,o.sent().json()];case 2:return(s=o.sent()).code>200?(t(l.setMenu({data:[],isOk:!1})),[2]):(t(l.setMenu({data:s.containers,isOk:!0})),[3,4]);case 3:return o.sent(),t(l.setMenu({data:[],isOk:!1})),e.getError("меню"),[3,4];case 4:return[2]}})})}},e.getError=function(e){return i.notification.error({message:"Не удалось получить "+e,description:"Попробуйте еще раз"})},e}();t.CommonApi=s},1473:function(e,t,n){},1474:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(22),p=n(53),d=n(63),f=n(92),m=n(178),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHandleSubmit=function(e){e.preventDefault();var n=t.props,r=n.form,o=n.onSend,i=n.modules,l=n.addMenu;r.validateFields(function(e,t){e||(l(a({},t,{module:u.get(i.find(function(e){return e.name===u.get(t,"module","")}),"id",""),color:"#"+u.get(t,"color","ffffff"),customColor:+u.get(t,"customColor",!1)})),o&&o(t))})},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.form,n=e.modules,r=e.icons,o=t.getFieldDecorator;return i.createElement(c.Form,{onSubmit:this.onHandleSubmit},i.createElement(c.Form.Item,null,o("name",{rules:[{required:!0,message:"Введите значение"}]})(i.createElement(d.default,{placeholder:"Название"}))),i.createElement(c.Form.Item,null,o("pic",{rules:[{required:!0,message:"Введите значение"}]})(i.createElement(f.default,{placeholder:"URL картинки",data:r.map(function(e){return e.url})}))),i.createElement(c.Form.Item,null,o("module",{rules:[{required:!0,message:"Введите значение"}]})(i.createElement(f.default,{placeholder:"Модуль",data:n.map(function(e){return e.name})}))),i.createElement("div",{style:{display:"flex"}},i.createElement(c.Form.Item,null,o("customColor",{rules:[{required:!1,message:"Введите значение"}]})(i.createElement(m.default,{text:"Особый цвет"}))),i.createElement(c.Form.Item,null,o("color",{rules:[{required:!1,message:"Введите значение"}],initialValue:"ffffff"})(i.createElement(d.default,{style:{width:"auto"},placeholder:"Цвет"})))),i.createElement(c.Button,{htmlType:"submit",type:"primary",style:{position:"relative",left:"87%",top:10}},"Добавить"))},t}(i.Component);t.default=l.connect(function(e){return{modules:s.getModules(e),icons:s.getIcons(e)}},function(e){return{addMenu:function(t){return e(p.MenuEditListApi.addMenu(t))}}})(c.Form.create()(h))},1476:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(43),c=n(13),u=n(67),s=n(10),p=n(38);n(1477);var d,f=n(131),m=n(22),h=n(1478),g=n(1479),y=p.default.div(d||(d=o(["\n  margin-left: 185px;\n  height: 100%;\n\n  .ant-col-6 .ant-layout-sider {\n    height: 100% !important;\n    min-width: none !important;\n    max-width: none !important;\n    width: 100% !important;\n  }\n  \n  .ant-col-6, .ant-col-18 {\n    height: calc(100vh - 66px);\n    overflow-y: scroll;\n    background: #ffffff;\n  }\n\n  .ant-col-18 {\n    margin-left: 8px;\n    width: 74%;\n  }\n\n  //Create custom scrollbar\n  .ant-col-6::-webkit-scrollbar-track{\n    background-color: #f5f5f5;\n  }\n\n  .ant-col-6::-webkit-scrollbar{\n    width: 7px;\n    background-color: #f5f5f5;\n  }\n\n  .ant-col-6::-webkit-scrollbar-thumb{\n    background: #1890ff;\n  }\n\n  .ant-col-6 {\n    scrollbar-width: thin;\n    scrollbar-color: #1890ff #f5f5f5;\n  }\n"],["\n  margin-left: 185px;\n  height: 100%;\n\n  .ant-col-6 .ant-layout-sider {\n    height: 100% !important;\n    min-width: none !important;\n    max-width: none !important;\n    width: 100% !important;\n  }\n  \n  .ant-col-6, .ant-col-18 {\n    height: calc(100vh - 66px);\n    overflow-y: scroll;\n    background: #ffffff;\n  }\n\n  .ant-col-18 {\n    margin-left: 8px;\n    width: 74%;\n  }\n\n  //Create custom scrollbar\n  .ant-col-6::-webkit-scrollbar-track{\n    background-color: #f5f5f5;\n  }\n\n  .ant-col-6::-webkit-scrollbar{\n    width: 7px;\n    background-color: #f5f5f5;\n  }\n\n  .ant-col-6::-webkit-scrollbar-thumb{\n    background: #1890ff;\n  }\n\n  .ant-col-6 {\n    scrollbar-width: thin;\n    scrollbar-color: #1890ff #f5f5f5;\n  }\n"]))),E=s.Layout.Sider,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.getMenu,n=e.getModules;t(),n()},t.prototype.render=function(){var e=this.props.container;return i.createElement(y,null,i.createElement(s.Row,null,i.createElement(s.Col,{span:6},i.createElement(E,{style:{background:"#fff",height:"100%"}},i.createElement(h.default,null))),e.data?i.createElement(s.Col,{span:18},i.createElement(E,{width:"100%",style:{background:"#fff",height:"100%"}},i.createElement(g.default,null))):i.createElement(s.Col,{span:18},i.createElement(E,{width:"100%",style:{background:"#fff",height:"100%"}},i.createElement("div",{style:{width:"100%",height:"100%",textAlign:"center"}},i.createElement("span",{style:{fontSize:"14pt",fontWeight:"bold"}},"Выберите контент, который хотите редактировать"))))))},t}(i.Component);t.default=l.compose(u.withRouter,c.connect(function(e){return{container:m.getContainer(e)}},function(e){return{getMenu:function(){return e(f.CommonApi.getMenu())},getModules:function(){return e(f.CommonApi.getModules())}}}))(v)},1477:function(e,t,n){},1478:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,l,c,u=n(0),s=n(13),p=n(10),d=n(20),f=n(38),m=n(59),h=n(22),g=n(42),y=n(66),E=f.default.div(l||(l=o(["\n  cursor: pointer;\n  ","\n\n  .ant-col-4 {\n    top: 6px;\n    width: 50px;\n    text-align: center;\n    background: aliceblue;\n    border-radius: 40px;\n  }\n"],["\n  cursor: pointer;\n  ","\n\n  .ant-col-4 {\n    top: 6px;\n    width: 50px;\n    text-align: center;\n    background: aliceblue;\n    border-radius: 40px;\n  }\n"])),function(e){return f.css(i||(i=o(["\n    background: ",";\n    border-right: ",";\n    min-height: 65px;\n  "],["\n    background: ",";\n    border-right: ",";\n    min-height: 65px;\n  "])),e.isCurrentMenu?"#ffffff":"#e6f7ff",e.isCurrentMenu?"0":"3px solid #1890ff")}),v=f.default.p(c||(c=o(["\n  font-size: 12pt;\n  font-weight: bold;\n  @media(max-width: 1395px){\n    font-size: 10pt;\n    font-weight: bold;\n  }\n"],["\n  font-size: 12pt;\n  font-weight: bold;\n  @media(max-width: 1395px){\n    font-size: 10pt;\n    font-weight: bold;\n  }\n"]))),_=function(e){function t(t){var n=e.call(this,t)||this;return n.getListContent=function(e,t){var r=n.props,o=r.menu,a=r.modules,i=n.state.currentMenu;return u.createElement(E,{isCurrentMenu:i!==e.id},u.createElement("div",{onClick:n.getContainer(e.id)},u.createElement(p.Row,null,u.createElement(p.Col,{span:4},e.pic.includes("http")?u.createElement("img",{src:e.pic,style:{top:0},className:m.default("menu","img")}):u.createElement(y.default,{style:{position:"relative"}})),u.createElement(p.Col,{span:19,style:{minHeight:65}},u.createElement(v,null,e.name),u.createElement("p",{style:{lineHeight:"10px"}},d.get(a.find(function(t){return+t.id==+e.module}),"name","")))),o.data.length-1!==t&&u.createElement("hr",{style:{margin:0,borderTop:0,borderBottom:"1px solid black"}})))},n.getContainer=function(e){return function(){n.props.getContainer(e),n.setState({currentMenu:e})}},n.state={currentMenu:null},n}return a(t,e),t.prototype.render=function(){var e=this.props.menu;return u.createElement(u.Fragment,null,e.isOk?u.createElement(p.List,{dataSource:e.data,renderItem:this.getListContent,loading:0===e.data.length}):u.createElement("span",{style:{color:"#000000",textAlign:"center",padding:20,fontSize:"21px"}},"Ошибка при получении контента"))},t}(u.Component),b=h.getMenu();t.default=s.connect(function(e){return{menu:b(e),modules:h.getModules(e)}},function(e){return{getContainer:function(t){return e(g.ContentAPI.getContainer(t))}}})(_)},1479:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(22),c=n(1480),u=n(1481),s=n(1488),p=n(1489),d=n(1491),f=n(1493),m=n(1503),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getContent=function(){switch(t.props.container.module){case 5:return a.createElement(c.default,null);case 6:return a.createElement(s.default,null);case 7:return a.createElement(u.default,null);case 8:return a.createElement(f.default,null);case 13:return a.createElement(p.default,null);case 14:return a.createElement(d.default,null);case 30:return a.createElement(m.default,null);case null:default:return a.createElement("div",{style:{width:"100%",height:"100%",textAlign:"center"}},a.createElement("span",{style:{fontSize:"14pt",fontWeight:"bold"}},"Данный модуль не требует редактирования"))}},t}return o(t,e),t.prototype.render=function(){return this.getContent()},t}(a.Component);t.default=i.connect(function(e){return{container:l.getContainer(e)}})(h)},1480:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(10),c=n(20),u=n(42),s=n(22),p=n(63),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUpdate=function(){var e=t.props,n=e.form,r=e.container,o=e.updateContainer;n.validateFields(function(e,t){e||o(r.id,c.get(t,"action","edit"),t)})},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.container.data,n=e.form.getFieldDecorator;return a.createElement(l.Card,null,a.createElement(l.Form,null,a.createElement(l.Form.Item,{style:{display:"none"}},n("action",{rules:[{required:!1}],initialValue:"edit"})(a.createElement(p.default,null))),a.createElement(l.Form.Item,null,n("data",{rules:[{required:!0,message:"Введите значение"}],initialValue:t.data})(a.createElement(p.default,{placeholder:"URL"}))),a.createElement(l.Button,{onClick:this.onUpdate,type:"primary"},"Сохранить")))},t}(a.Component);t.default=i.connect(function(e){return{container:s.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(u.ContentAPI.updateContainer(t,n,r,o))}}})(l.Form.create()(d))},1481:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(77),p=n(40),d=n(25),f=n(42),m=n(22),h=n(66),g=n(1487),y=n(59),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentIndex:t.index,currentEntity:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.state={modalVisible:!1,isAdd:!1,currentEntity:null,currentIndex:0},n}return o(t,e),t.prototype.render=function(){var e=this.props.container,n=e.data,r=e.isLoading,o=this.state,l=o.isAdd,u=o.modalVisible,f=o.currentEntity;return i.createElement(c.Card,{title:i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить новость")},i.createElement(s.default,{data:n.map(function(e){return a({},e,{time:p.unix(e.time).format(d.DATE_FORMAT),announceShort:e.announce.slice(0,200),bodyShort:e.body.slice(0,200),visible:Boolean(e.visible)?"Да":"Нет"})}),columns:t.columns,pageSize:n.length,noDataText:"Нет информации",loadingText:"Загрузка...",loading:r,className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:u,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(g.default,{index:0,data:f,closeModal:this.onCloseModal,isAdd:l})))},t.columns=[{Header:"Картинка",accessor:"img",Cell:function(e){var t=u.get(e,"original.img");return i.createElement("div",null,i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:8,className:"image-placeholder",style:{paddingLeft:0,paddingRight:0}},i.createElement(i.Fragment,null,t.includes("http")?i.createElement("img",{src:t,style:{maxWidth:70,maxHeight:70}}):i.createElement(h.default,{style:{left:0}}))),i.createElement(c.Col,{span:12,style:{margin:"0 0 0 -8px",padding:0}},i.createElement("p",{style:{fontWeight:"bold"}},e.original.title),i.createElement("p",{style:{margin:0}},e.original.announceShort))))},style:{width:"fit-content"}},{Header:"Содержание",accessor:"bodyShort"},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(u.get(e,"original.visible",1)),className:y.default("content","program-table-switch-position")})},width:100},{Header:"Обновлено",accessor:"time",Cell:function(e){return i.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},i.createElement("span",null,e.original.time.slice(0,10)),i.createElement("span",null,e.original.time.slice(10,16)))},width:100}],t}(i.Component);t.default=l.connect(function(e){return{container:m.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(f.ContentAPI.updateContainer(t,n,r,o))}}})(E)},1487:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(40),p=n(27),d=n(25),f=n(42),m=n(22),h=n(63),g=n(93),y=n(111),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.onSubmit=function(){var e=n.props,t=e.container,r=e.updateContainer,o=e.closeModal,i=e.form,l=e.isAdd;i.validateFields(function(e,c){e||(c=a({},c,{time:s(c.time,d.DATE_FORMAT).unix(),body:n.state.editorState.getCurrentContent().getPlainText()}),r(t.id,l?"new":"edit",l?a({},c,{visible:1}):c,o),i.resetFields())})},n.delete=function(e){return function(){var t=n.props,r=t.container,o=t.updateContainer,a=t.closeModal;o(r.id,"delete",{id:e},a)}},n.state={editorState:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.data;e.isAdd||this.setState({editorState:p.EditorState.createWithContent(p.ContentState.createFromText(u.get(t,"body","")))})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.data;t.isAdd||u.get(n,"body","")===u.get(e,"data.body","")||this.setState({editorState:p.EditorState.createWithContent(p.ContentState.createFromText(u.get(n,"body","")))})},t.prototype.render=function(){var e=this.props,t=e.data,n=e.form,r=e.isAdd,o=n.getFieldDecorator;return i.createElement(y.default,{style:{paddingTop:10,border:0},title:r?"Добавление новости":u.get(t,"name",""),isAdd:r},i.createElement(c.Form,null,i.createElement(c.Card,{title:"Основное"},i.createElement(c.Form.Item,{label:"Дата"},o("time",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?s():s(t.time,d.DATE_FORMAT)})(i.createElement(c.DatePicker,{format:d.DATE_FORMAT}))),i.createElement(c.Form.Item,{label:"Заголовок"},o("title",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(h.default,{placeholder:"Заголовок"}))),i.createElement(c.Form.Item,{label:"Анонс"},o("announce",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"announce","")})(i.createElement(h.default,{placeholder:"Анонс",textArea:!0}))),i.createElement(c.Form.Item,{label:"Фото"},o("img",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"img","")})(i.createElement(h.default,{placeholder:"Фото"})))),i.createElement("br",null),i.createElement(c.Card,{title:"Описание"},i.createElement(g.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(u.get(t,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить")))},t.defaultProps={isAdd:!1},t}(i.Component);t.default=l.connect(function(e){return{container:m.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(f.ContentAPI.updateContainer(t,n,r,o))}}})(c.Form.create()(E))},1488:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(10),c=n(93),u=n(27),s=n(42),p=n(22),d=n(63),f=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeTitle=function(e){return n.setState({title:e})},n.onChangeText=function(e){return n.setState({editorState:e})},n.update=function(e){var t=n.props,r=t.container,o=t.updateContainer,a=n.state,i=a.editorState,l=a.title,c=i.getCurrentContent().getPlainText();o(r.id,"edit",{id:r.id,body:c,title:l})},n.state={editorState:null,title:""},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.container.data;e.id&&this.setState({editorState:u.EditorState.createWithContent(u.ContentState.createFromText(e.body)),title:e.title})},t.prototype.componentDidUpdate=function(e){var t=this.props.container.data;t.id&&t.body!==e.container.data.body&&this.setState({editorState:u.EditorState.createWithContent(u.ContentState.createFromText(t.body))})},t.prototype.render=function(){var e=this.state,t=e.editorState,n=e.title;return a.createElement(l.Card,{style:{height:"100%"},bodyStyle:{height:"100%"}},a.createElement("span",null,"Заголовок"),a.createElement(d.default,{value:n,onChange:this.onChangeTitle}),a.createElement("br",null),a.createElement("br",null),a.createElement("span",null,"Описание"),a.createElement(c.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:t,onEditorStateChange:this.onChangeText,wrapperStyle:{height:"80%"}}),a.createElement("hr",null),a.createElement(l.Button,{type:"primary",onClick:this.update,style:{zIndex:99999}},"Сохранить"))},t}(a.Component);t.default=i.connect(function(e){return{container:p.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(s.ContentAPI.updateContainer(t,n,r,o))}}})(f)},1489:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(77),p=n(40),d=n(42),f=n(25),m=n(59),h=n(22),g=n(66),y=n(1490),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentIndex:t.index,currentEntity:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.state={modalVisible:!1,isAdd:!1,currentEntity:null,currentIndex:0},n}return o(t,e),t.prototype.render=function(){var e=this.props.container,n=e.data,r=e.isLoading,o=this.state,l=o.modalVisible,u=o.isAdd,p=o.currentEntity;for(var d in n)99===n[d].people_id&&Reflect.deleteProperty(n,d);return i.createElement(c.Card,{title:i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить")},i.createElement(s.default,{data:n.map(function(e){return a({},e,{visible:Boolean(e.visible)?1:0,img:e.data.img,peopleName:e.data.name,updated:e.data.updated_at})}),columns:t.columns,pageSize:n.length,noDataText:"Нет информации",loadingText:"Загрузка...",loading:r,className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:l,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(y.default,{people:p,closeModal:this.onCloseModal,isAdd:u,type:u?"POST":"PUT"})))},t.columns=[{Header:"Имя",accessor:"img",Cell:function(e){var t=u.get(e,"original.img")||"fake",n=u.get(e,"original.data.subtitle");return i.createElement("div",null,i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:8,className:"image-placeholder",style:{paddingLeft:0,paddingRight:0}},i.createElement(i.Fragment,null,t.includes("http")?i.createElement("img",{src:t,style:{maxWidth:70,maxHeight:70}}):i.createElement(g.default,{style:{left:0}}))),i.createElement(c.Col,{span:12,style:{margin:"0 0 0 -8px",padding:0}},i.createElement("p",{style:{margin:0,fontWeight:"bold"}},e.original.peopleName),i.createElement("p",{style:{margin:0}},n))))},style:{width:"fit-content"}},{Header:"Группа",accessor:"people_group_name",style:{textAlign:"center"},width:150},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(u.get(e,"original.visible",1)),className:m.default("content","module-table-switch-position",{"without-location":!e.original.location_name})})},width:100},{Header:"Обновлено",accessor:"updated",Cell:function(e){var t=u.get(e,"original.updated_at"),n=p.unix(t).format(f.DATE_FORMAT);return i.createElement(c.Col,{style:{textAlign:"right"}},i.createElement("p",{style:{margin:0}},n.slice(0,10)),i.createElement("p",null,n.slice(10,16)))},width:100}],t}(i.Component);t.default=l.connect(function(e){return{container:h.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(d.ContentAPI.updateContainer(t,n,r,o))}}})(E)},1490:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(42),p=n(22),d=n(92),f=n(53),m=n(178),h=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(){var e=n.props,t=e.container,r=e.isAdd,o=e.people,i=e.menuDataPeople,l=e.menuDataPeopleGroups,c=e.closeModal,s=e.form,p=e.updateContainer;s.validateFields(function(e,n){e||(p(t.id,r?"new":"edit",a({},n,{people_id:u.get(i.find(function(e){return e.name.toLowerCase()===n.people.toLowerCase()}),"id",null),people_group:u.get(l.find(function(e){return e.name.toLowerCase()===n.group.toLowerCase()}),"id",null),id:r?void 0:o.id}),function(){c()}),s.resetFields())})},n.delete=function(){return function(){var e=n.props,t=e.container,r=e.people,o=e.updateContainer,a=e.closeModal;o(t.id,"delete",{id:r.id,action:"delete"},a)}},n.state={imageUrl:null,file:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.getMenuData;e("people"),e("people_groups")},t.prototype.render=function(){var e=this.props,t=e.people,n=e.form,r=e.isAdd,o=e.menuDataPeople,a=e.menuDataPeopleGroups,l=n.getFieldDecorator;return i.createElement(c.Card,{title:r?null:u.get(t,"name","")},i.createElement(c.Form,null,i.createElement(c.Form.Item,{label:"Человек"},l("people",{rules:[{required:r,message:r?"Введите значение":void 0}],initialValue:r?"":u.get(t,"peopleName","")})(i.createElement(d.default,{placeholder:"Человек",data:o.map(function(e){return e.name})}))),i.createElement(c.Form.Item,{label:"Группа"},l("group",{rules:[{required:r,message:r?"Введите значение":void 0}],initialValue:r?"":u.get(t,"people_group_name","")})(i.createElement(d.default,{placeholder:"Группа",data:a.map(function(e){return e.name})}))),i.createElement(c.Form.Item,null,l("visible",{initialValue:!r&&Boolean(t.visible)})(i.createElement(m.default,{text:"Видимость"}))),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить")))},t.defaultProps={type:"PUT",isAdd:!1,menuDataPeople:[],menuDataPeopleGroups:[]},t}(i.Component);t.default=l.connect(function(e){return{menuDataPeople:p.getMenuData(e,"people"),menuDataPeopleGroups:p.getMenuData(e,"people_groups"),container:p.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){e(s.ContentAPI.updateContainer(t,n,r,o))},getMenuData:function(t){return e(f.MenuEditListApi.getMenuData(t))},getContainer:function(t){return e(s.ContentAPI.getContainer(t))}}})(c.Form.create()(h))},1491:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(77),p=n(40),d=n(25),f=n(42),m=n(22),h=n(53),g=n(66),y=n(1492),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentIndex:t.index,currentEntity:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.state={modalVisible:!1,isAdd:!1,currentEntity:null,currentIndex:0},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.getMenuData;e("company"),e("company_groups")},t.prototype.render=function(){var e=this.props,n=e.container,r=n.data,o=n.isLoading,l=e.companies,p=e.companiesGroups,d=this.state,f=d.modalVisible,m=d.isAdd,h=d.currentEntity;return i.createElement(c.Card,{title:i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить")},i.createElement(s.default,{data:r.map(function(e){var t=l.find(function(t){return t.id===e.company_id}),n=p.find(function(t){return t.id===e.company_group});return a({},e,{img:u.get(t,"img",""),companyName:u.get(t,"name",""),companyGroupName:u.get(n,"name",""),announce:u.get(t,"announce","").slice(0,200),description:u.get(t,"description","").slice(0,200),announceFull:u.get(t,"announce",""),updated_at:u.get(t,"updated_at",""),descriptionFull:u.get(t,"description",""),visible:Boolean(e.visible)?"Да":"Нет"})}),columns:t.columns,pageSize:r.length,noDataText:"Нет информации",loadingText:"Загрузка...",loading:o,className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:f,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(y.default,{entity:h,closeModal:this.onCloseModal,isAdd:m,type:m?"POST":"PUT"})))},t.defaultProps={companies:[],companiesGroups:[]},t.columns=[{Header:"Название",accessor:"img",Cell:function(e){var t=u.get(e,"original.img");return i.createElement("div",null,i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:8,className:"image-placeholder",style:{paddingLeft:0,paddingRight:0}},i.createElement(i.Fragment,null,t.includes("http")?i.createElement("img",{src:t,style:{maxWidth:70,maxHeight:70}}):i.createElement(g.default,null))),i.createElement(c.Col,{span:12,style:{margin:0,padding:0}},i.createElement("p",{style:{fontWeight:"bold"}},e.original.companyName),i.createElement("p",{style:{margin:0}},e.original.announce))))},style:{width:"fit-content"}},{Header:"Группа компании",accessor:"companyGroupName",width:200},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(u.get(e,"original.visible",1)),className:"content__program-table-switch-position"})},width:100},{Header:"Обновлено",accessor:"time",Cell:function(e){var t=p.unix(e.original.updated_at).format(d.DATE_FORMAT);return i.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},i.createElement("span",null,t.slice(0,10)),i.createElement("span",null,t.slice(10,16)))},width:100}],t}(i.Component);t.default=l.connect(function(e){return{container:m.getContainer(e),companies:m.getMenuData(e,"company"),companiesGroups:m.getMenuData(e,"company_groups")}},function(e){return{updateContainer:function(t,n,r,o){return e(f.ContentAPI.updateContainer(t,n,r,o))},getMenuData:function(t){return e(h.MenuEditListApi.getMenuData(t))}}})(E)},1492:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(27),p=n(42),d=n(22),f=n(92),m=n(53),h=n(178),g=n(93),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.onSubmit=function(){var e=n.props,t=e.container,r=e.isAdd,o=e.entity,i=e.companies,l=e.companiesGroups,c=e.closeModal,s=e.form,p=e.updateContainer;s.validateFields(function(e,d){if(!e){var f=i.find(function(e){return e.name.toLowerCase()===d.name.toLowerCase()});l.find(function(e){return e.name.toLowerCase()===d.group.toLowerCase()});p(t.id,r?"new":"edit",a({},d,{id:u.get(o,"id",void 0),company_id:u.get(f,"id",""),company_group:0,visible:+d.visible,description:n.state.editorState.getCurrentContent().getPlainText()}),function(){c()}),s.resetFields()}})},n.delete=function(){return function(){var e=n.props,t=e.container,r=e.entity,o=e.updateContainer,a=e.closeModal;o(t.id,"delete",{id:r.id,action:"delete"},a)}},n.state={imageUrl:null,file:null,editorState:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.getMenuData,n=e.isAdd,r=e.entity;n||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(r,"description","")))}),t("people"),t("people_groups")},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.entity,r=t.isAdd;null!==e.entity&&(r||n.description===e.entity.description||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(n,"description","")))}))},t.prototype.render=function(){var e=this.props,t=e.entity,n=e.form,r=e.isAdd,o=e.companies,a=e.companiesGroups,l=n.getFieldDecorator;return i.createElement(c.Card,{title:r?"Добавление компании":u.get(t,"name",""),style:r?{top:0,position:"relative"}:{top:40,position:"relative"}},i.createElement(c.Form,null,i.createElement(c.Card,{title:"Основное",extra:i.createElement(c.Form.Item,null,l("visible",{initialValue:!!r||Boolean(t.visible)})(i.createElement(h.default,{text:"Видимость"})))},i.createElement(c.Form.Item,{label:"Название"},l("name",{rules:[{required:r,message:r?"Введите значение":void 0}],initialValue:r?"":u.get(t,"companyName","")})(i.createElement(f.default,{placeholder:"Название",data:o.map(function(e){return e.name})}))),i.createElement(c.Form.Item,{label:"Группа"},l("group",{rules:[{required:r,message:r?"Введите значение":void 0}],initialValue:r?"":u.get(t,"companyGroupName","")})(i.createElement(f.default,{placeholder:"Группа",data:a.map(function(e){return e.name})})))),i.createElement("br",null),i.createElement(c.Card,{title:"Описание"},i.createElement(g.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить")))},t.defaultProps={type:"PUT",isAdd:!1,companies:[],companiesGroups:[]},t}(i.Component);t.default=l.connect(function(e){return{container:d.getContainer(e),companies:d.getMenuData(e,"company"),companiesGroups:d.getMenuData(e,"company_groups")}},function(e){return{updateContainer:function(t,n,r,o){e(p.ContentAPI.updateContainer(t,n,r,o))},getMenuData:function(t){return e(m.MenuEditListApi.getMenuData(t))},getContainer:function(t){return e(p.ContentAPI.getContainer(t))}}})(c.Form.create()(y))},1493:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var l,c=n(0),u=n(13),s=n(43),p=n(10),d=n(77),f=n(20),m=n(38),h=n(40),g=n(42),y=n(22),E=n(89),v=n(476),_=n(53),b=n(1494),C=n(92),w=n(25),O=n(59),S=n(60),P=m.default.div(l||(l=o(["  \n  display: inline-flex;\n  position: absolute;\n  right: 0;\n"],["  \n  display: inline-flex;\n  position: absolute;\n  right: 0;\n"]))),A=function(e){function t(t){var n=e.call(this,t)||this;return n.columns=[{Header:"Время",accessor:"time",Cell:function(e){return c.createElement("div",null,c.createElement("span",{style:{fontWeight:"bold"}},h(e.original.startTime,w.DATE_FORMAT).format(w.ONLY_TIME_FORMAT),0!==e.original.finish?" - "+h(e.original.endTime,w.DATE_FORMAT).format(w.ONLY_TIME_FORMAT):""),c.createElement("br",null),c.createElement("span",{style:{color:"grey",fontWeight:"normal"}},h(e.original.startTime,w.DATE_FORMAT).locale("ru").format("dddd"),", ",h(e.original.startTime,w.DATE_FORMAT).format(w.SHORT_DATE_FORMAT)))},width:180},{Header:"Название",accessor:"name",Cell:function(e){return c.createElement("div",null,c.createElement("p",{style:{fontWeight:"bold"}},e.original.title),c.createElement("span",{style:{color:"grey"}},e.original.location_name))}},{Header:"Видимость",accessor:"visible",Cell:function(e){return c.createElement(p.Switch,{checked:Boolean(f.get(e,"original.visible",1)),className:O.default("content","program-table-switch-position",{"without-location":!e.original.location_name})})},width:100},{Header:"Обновлено",accessor:"updated",Cell:function(e){return c.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},c.createElement("span",null,e.original.updated.slice(0,10)),c.createElement("span",null,e.original.updated.slice(10,16)))},width:100}],n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.onRowClick=function(e,t,r){return{onClick:function(){n.setState({currentIndex:t.index,modalVisible:!0,isAdd:!1}),n.props.setCurrentEntity(t.original)},style:{cursor:"pointer"}}},n.dropFilters=function(){return n.props.form.setFieldsValue({date:"",location:""})},n.state={modalVisible:!1,isAdd:!1,currentEntity:null,currentIndex:0},n}return a(t,e),t.prototype.componentDidMount=function(){(0,this.props.getMenuData)("locations")},t.prototype.render=function(){var e=this.props,t=e.container,n=t.data,r=t.isLoading,o=e.user,a=e.locations,l=e.form,u=e.currentEntity,s=this.state,f=s.modalVisible,m=s.isAdd,g=l.getFieldDecorator;return c.createElement(p.Card,{title:c.createElement(c.Fragment,null,c.createElement(p.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить"),c.createElement(p.Button,{icon:"setting",style:{left:10},disabled:!0}),c.createElement(P,{style:{maxWidth:500}},c.createElement(p.Form.Item,{style:{top:-5}},g("date",{rules:[{required:!1}]})(c.createElement(C.default,{placeholder:"Дата",data:n.map(function(e){return v.timeFromUnixToFormat(e.start).slice(0,10)}).filter(function(e,t,n){return n.indexOf(e)===t}),onPick:this.onFiltered("date")}))),c.createElement(p.Form.Item,{style:{top:-5}},g("location",{rules:[{required:!1}]})(c.createElement(C.default,{placeholder:"Локация",data:a.map(function(e){return e.name}).filter(function(e,t,n){return n.indexOf(e)===t}),onPick:this.onFiltered("locations")}))),c.createElement(p.Button,{icon:"reload",onClick:this.dropFilters,style:{height:30}}),c.createElement(p.Input,{addonBefore:c.createElement(p.Icon,{type:"search"}),placeholder:"Поиск",disabled:!0})))},c.createElement(d.default,{data:this.filter(n.map(function(e){return i({},e,{visibleString:Boolean(e.visible)?"Да":"Нет",descriptionShort:e.description.slice(0,200),startTime:v.timeFromUnixToFormat(h.unix(e.start).add({hour:o.appdata.eventTimeShift}).unix()),endTime:v.timeFromUnixToFormat(h.unix(e.finish).add({hour:o.appdata.eventTimeShift}).unix()),updated:h.unix(e.updated_at).format(w.DATE_FORMAT)})})),columns:this.columns,pageSize:n.length,noDataText:"Нет информации",loadingText:"Загрузка...",loading:r,className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),c.createElement(p.Modal,{visible:f,footer:null,onCancel:this.onCloseModal,width:782},c.createElement(b.default,{closeModal:this.onCloseModal,entity:m?null:u,user:o,isAdd:m})))},t.prototype.filter=function(e){var t=this.props.form,n=t.getFieldValue("date"),r=t.getFieldValue("location");return n||r?e.filter(function(e){return n&&!v.timeFromUnixToFormat(e.start).includes(n)||r&&e.location_name!==r?null:e}).filter(function(e){return!!e}):e},t.prototype.onFiltered=function(e){var t=this;return function(n){var r=t.props.form;"date"===e?r.setFieldsValue({date:n}):r.setFieldsValue({location:n})}},t.defaultProps={locations:[]},t}(c.Component);t.default=s.compose(u.connect(function(e){return{container:y.getContainer(e),locations:y.getMenuData(e,"locations"),people:y.getMenuData(e,"people"),user:E.getUserData(e),currentEntity:e.common.currentEntity}},function(e){return{updateContainer:function(t,n,r,o){return e(g.ContentAPI.updateContainer(t,n,r,o))},getMenuData:function(t){return e(_.MenuEditListApi.getMenuData(t))},setCurrentEntity:function(t){return e(S.setCurrentEntity(t))}}}),p.Form.create())(A)},1494:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var l,c,u=n(0),s=n(13),p=n(10),d=n(20),f=n(40),m=n(38),h=n(27),g=n(42),y=n(22),E=n(25),v=n(92),_=n(53),b=n(63),C=n(519),w=n(93),O=n(111),S=n(280),P=n(66),A=n(181),M=n(60),x=m.default.div(l||(l=o(["\n  .ant-form-item {\n    margin: 0;\n  }\n"],["\n  .ant-form-item {\n    margin: 0;\n  }\n"]))),T=m.default.span(c||(c=o(["\n  position: relative;\n  left: 20px;\n  top: -22px;\n  font-size: 18px;\n  font-weight: bold;\n"],["\n  position: relative;\n  left: 20px;\n  top: -22px;\n  font-size: 18px;\n  font-weight: bold;\n"]))),k=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.deletePeople=function(e){return function(){var t=n.props,r=t.container.id,o=t.entity,a=t.getContainer,i=t.updateContainer,l=t.setCurrentEntity;i(r,"people_del",{id:d.get(o,"id",null),people_id:e,people_group:1},function(){p.notification.success({message:"Успешно удален",description:""}),a(r).then(function(e){return l(e.data.find(function(e){return e.id===o.id}))})})}},n.peopleAdd=function(e){var t=n.props,r=t.container.id,o=t.entity,a=t.updateContainer,i=t.getContainer,l=t.setCurrentEntity,c=t.people,u=t.form;a(r,"people_add",{id:d.get(o,"id",null),people_id:d.get(c.find(function(t){return t.name===e}),"id",null),people_group:1},function(){p.notification.success({message:"Успешно добавлен",description:""}),i(r).then(function(e){l(e.data.find(function(e){return e.id===o.id})),u.setFieldsValue({newPeople:""})})})},n.peopleSetGroup=function(e){return function(t){var r=n.props,o=r.container.id,a=r.entity,i=r.form,l=r.updateContainer,c=r.peopleGroups,u=r.closeModal;l(o,"people_set_group",{id:a.id,people_id:e,people_group:d.get(c.find(function(e){return e.name===t}),"id",null)},function(){p.notification.success({message:"Успешно добавлен",description:""}),u(),i.resetFields()})}},n.onSubmit=function(){var e=n.props,t=e.entity,r=e.container,o=e.closeModal,a=e.form,l=e.updateContainer,c=e.locations,u=e.user;a.validateFields(function(e,s){if(!e){var p=c.find(function(e){return e.name.toLowerCase()===s.location.toLowerCase()}),m=d.get(t,"id");l(r.id,m?"edit":"new",i({},s,{location_id:d.get(p,"id",-1),location_name:d.get(p,"name",s.location),start:f(s.start.format(E.ONLY_DATE_FORMAT)+" "+s.start_time.format(E.ONLY_TIME_FORMAT),E.DATE_FORMAT).subtract({hour:u.appdata.eventTimeShift}).unix(),finish:s.isStart?0:f(s.finish.format(E.ONLY_DATE_FORMAT)+" "+s.finish_time.format(E.ONLY_TIME_FORMAT),E.DATE_FORMAT).subtract({hour:u.appdata.eventTimeShift}).unix(),finish_time:s.isStart?0:f(s.finish.format(E.ONLY_DATE_FORMAT)+" "+s.finish_time.format(E.ONLY_TIME_FORMAT),E.DATE_FORMAT).subtract({hour:u.appdata.eventTimeShift}).unix(),inviteonly:0,visible:+s.visible,id:m,description:n.state.editorState.getCurrentContent().getPlainText()}),function(){o()}),a.resetFields()}})},n.delete=function(e){return function(){var t=n.props,r=t.container,o=t.updateContainer,a=t.closeModal;o(r.id,"delete",{id:e},a)}},n.onToggleVisibleAddLocation=function(){return n.setState({isAddLocationsVisible:!n.state.isAddLocationsVisible})},n.onPickStartDate=function(e,t){var r=n.props.form;r.getFieldValue("isStart")||r.setFieldsValue({finish:f(t,E.ONLY_DATE_FORMAT)})},n.state={isAddLocationsVisible:!1,editorState:null},n}return a(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.entity;d.get(t,"description","")!==d.get(e.entity,"description","")&&this.setState({editorState:h.EditorState.createWithContent(h.ContentState.createFromText(d.get(t,"description","")))})},t.prototype.componentDidMount=function(){var e=this.props,t=e.getMenuData,n=e.entity;t("people"),t("people_groups"),this.setState({editorState:h.EditorState.createWithContent(h.ContentState.createFromText(d.get(n,"description","")))})},t.prototype.render=function(){var e=this,t=this.props,n=t.user,r=t.entity,o=t.form,a=t.locations,i=t.isAdd,l=t.people,c=this.state.isAddLocationsVisible,s=o.getFieldDecorator,m=d.get(r,"peoples",[]),h=!Boolean(d.get(r,"finish",0));return u.createElement(u.Fragment,null,u.createElement(O.default,{isAdd:i,title:i?"Добавить программу":d.get(r,"title","")},u.createElement(p.Form,null,u.createElement(S.default,{title:"Основное",extra:u.createElement(u.Fragment,null,u.createElement(A.VisibleFormLabel,null,"Видимость "),u.createElement(p.Form.Item,{style:{zIndex:9999}},s("visible",{rules:[{required:!1}],initialValue:Boolean(d.get(r,"visible",1)),valuePropName:"checked"})(u.createElement(p.Switch,null)))),bodyStyle:{position:"relative",top:-22,height:180}},u.createElement(p.Form.Item,{label:"Название"},s("title",{rules:[{required:!0,message:"Введите значение"}],initialValue:d.get(r,"title","")})(u.createElement(b.default,{placeholder:"Название"}))),u.createElement(p.Row,null,u.createElement(p.Col,{span:23},u.createElement(p.Form.Item,{label:"Адрес"},s("location",{rules:[{required:!1}],initialValue:d.get(r,"location_name","")})(u.createElement(v.default,{placeholder:"Адрес",data:a.map(function(e){return e.name}).filter(function(e,t,n){return n.indexOf(e)===t})})))),u.createElement(p.Col,{span:1},u.createElement("div",{style:{position:"relative",top:42}},u.createElement(p.Popover,{content:"Добавить"},u.createElement(p.Button,{icon:"plus",type:"primary",onClick:this.onToggleVisibleAddLocation,style:{height:30,top:2,borderRadius:0}})))))),u.createElement("br",null),u.createElement(S.default,{title:"Время",bodyStyle:{height:86}},u.createElement(p.Row,null,u.createElement(p.Col,{span:5},u.createElement(p.Form.Item,null,s("start",{rules:[{required:!1}],initialValue:d.get(r,"start",null)?f.unix(d.get(r,"start",0)).add({hour:n.appdata.eventTimeShift}).utc():null})(u.createElement(p.DatePicker,{format:E.ONLY_DATE_FORMAT,style:{width:"100%"},placeholder:"Дата",onChange:this.onPickStartDate})))),u.createElement(p.Col,{span:3},u.createElement(p.Form.Item,null,s("start_time",{rules:[{required:!1}],initialValue:d.get(r,"start",null)?f.unix(d.get(r,"start",0)).add({hour:n.appdata.eventTimeShift}).utc():null})(u.createElement(p.TimePicker,{format:E.ONLY_TIME_FORMAT,style:{width:"100%"},placeholder:"Время"})))),u.createElement(p.Col,{span:5,offset:1},u.createElement(p.Form.Item,null,s("finish",{rules:[{required:!1}],initialValue:h?void 0:f.unix(d.get(r,"finish")).add({hour:n.appdata.eventTimeShift}).utc()})(u.createElement(p.DatePicker,{format:E.ONLY_DATE_FORMAT,style:{width:"100%"},placeholder:"Дата"})))),u.createElement(p.Col,{span:3},u.createElement(p.Form.Item,null,s("finish_time",{rules:[{required:!1}],initialValue:h?void 0:f.unix(d.get(r,"finish")).add({hour:n.appdata.eventTimeShift}).utc()})(u.createElement(p.TimePicker,{format:E.ONLY_TIME_FORMAT,style:{width:"100%"},placeholder:"Время"})))),u.createElement(p.Col,{span:6,offset:1},u.createElement(p.Form.Item,{label:"Только начало",style:{position:"relative",top:-30}},s("isStart",{rules:[{required:!1}],initialValue:h,valuePropName:"checked"})(u.createElement(p.Switch,null)))))),u.createElement("br",null),u.createElement(S.default,{title:"Описание"},u.createElement(w.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),u.createElement("br",null),!i&&u.createElement(S.default,{title:"Люди"},u.createElement(x,null,u.createElement(p.Form.Item,null,s("newPeople",{rules:[{required:!1}]})(u.createElement(v.default,{placeholder:"Начните вводить имя",data:l.map(function(e){return e.name}).filter(function(e){return!m.find(function(t){return t.name===e})}),prefixAddon:u.createElement(p.Icon,{type:"search"}),style:{width:"100%"},onPick:this.peopleAdd}))),u.createElement("hr",null),m.map(function(t,n){return u.createElement(p.Card,{key:n,style:{height:60}},t.img.includes("http")?u.createElement("img",{src:t.img,width:40,style:{position:"relative",top:-14}}):u.createElement("div",{style:{display:"inline-block",position:"relative",top:-14,verticalAlign:"middle"}},u.createElement(P.default,{style:{left:0}})),u.createElement(T,null,t.name),u.createElement(p.Popconfirm,{title:"Вы уверены?",okText:"Да",cancelText:"Нет",placement:"bottom",onConfirm:e.deletePeople(+t.id)},u.createElement(p.Button,{type:"danger",icon:"close",style:{position:"absolute",right:15,top:14}})))}))),u.createElement("br",null),!i&&u.createElement(p.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(d.get(r,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},u.createElement(p.Button,{type:"danger"},"Удалить")),u.createElement(p.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:i?630:542}},"Сохранить"))),u.createElement(p.Modal,{visible:c,footer:null,width:782,onCancel:this.onToggleVisibleAddLocation},u.createElement(C.default,{entity:null,closeModal:this.onToggleVisibleAddLocation,type:"POST",isAdd:!0})))},t.defaultProps={locations:[],people:[],peopleGroups:[],isAdd:!0},t}(u.Component);t.default=s.connect(function(e){return{container:y.getContainer(e),locations:y.getMenuData(e,"locations"),people:y.getMenuData(e,"people"),peopleGroups:y.getMenuData(e,"people_groups")}},function(e){return{updateContainer:function(t,n,r,o){return e(g.ContentAPI.updateContainer(t,n,r,o))},getMenuData:function(t){return e(_.MenuEditListApi.getMenuData(t))},getContainer:function(t){return e(g.ContentAPI.getContainer(t))},setCurrentEntity:function(t){return e(M.setCurrentEntity(t))}}})(p.Form.create()(k))},1502:function(e,t,n){},1503:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(77),p=n(40),d=n(25),f=n(42),m=n(22),h=n(1504),g=n(59),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.onRowClick=function(e,t,r){return{onClick:function(e){n.setState({currentIndex:t.index,currentEntity:t.original,modalVisible:!0,result:!1,isAdd:!1})},style:{cursor:"pointer"}}},n.onTdClick=function(e,t,r){return{onClick:function(e){"rt-td results"===e.currentTarget.className&&(e.stopPropagation(),n.setState({currentIndex:t.index,currentEntity:t.original,result:!0,modalVisible:!0,isAdd:!1}))}}},n.state={modalVisible:!1,isAdd:!1,result:!1,currentEntity:null,currentIndex:0},n}return o(t,e),t.prototype.render=function(){var e=this.props.container,n=e.data,r=e.isLoading,o=this.state,l=o.isAdd,u=o.modalVisible,f=o.currentEntity,m=o.result;return i.createElement(c.Card,{title:i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить опрос")},i.createElement(s.default,{data:n.map(function(e){return a({},e,{name:e.name,enabled:e.enabled,time:p.unix(e.updated_at).format(d.DATE_FORMAT),visible:Boolean(e.visible)?"Да":"Нет"})}),columns:t.columns,pageSize:n.length,noDataText:"Нет информации",loadingText:"Загрузка...",loading:r,className:"-striped -highlight",getTrProps:this.onRowClick,getTdProps:this.onTdClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:u,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(h.default,{index:0,data:f,closeModal:this.onCloseModal,isAdd:l,result:m})))},t.columns=[{Header:"Название",accessor:"title",Cell:function(e){return i.createElement("div",null,i.createElement(c.Col,{span:12,style:{margin:0,padding:0}},i.createElement("p",{style:{fontWeight:"bold"}},e.original.name)))}},{Header:"Статус",accessor:"enabled",Cell:function(e){return i.createElement("div",null,i.createElement(c.Col,{span:12,style:{margin:0,padding:0}},i.createElement("p",null,["Не активен","Идет опрос","Опрос завершен"][e.original.enabled])))},width:100},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(u.get(e,"original.visible",1)),className:g.default("content","program-table-switch-position")})},width:100},{Header:"Результаты",accessor:"results",Cell:function(e){return i.createElement(c.Button,null,"Результаты")},width:112,className:"results"},{Header:"Обновлен",accessor:"time",Cell:function(e){return i.createElement("div",{style:{display:"flex",flexDirection:"column",textAlign:"right"}},i.createElement("p",{style:{margin:0}},e.original.time.slice(0,10)),i.createElement("p",null,e.original.time.slice(10,16)))},width:100}],t}(i.Component);t.default=l.connect(function(e){return{container:m.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(f.ContentAPI.updateContainer(t,n,r,o))}}})(y)},1504:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(27),p=n(42),d=n(22),f=n(63),m=n(111),h=c.Select.Option,g=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(){var e=n.props,t=e.container,r=e.updateContainer,o=(e.updatePoll,e.closeModal),i=e.form,l=e.isAdd,c=e.result;i.validateFields(function(e,n){e||(n=a({},n),r(t.id,c?l?"new_question":"edit_question":l?"new":"edit",l?a({},n,{visible:1}):n,o),i.resetFields())})},n.delete=function(e){return function(){var t=n.props,r=t.container,o=t.updateContainer,a=t.closeModal;o(r.id,"delete",{id:e},a)}},n.state={editorState:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.data;e.isAdd||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(t,"body","")))})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.data;t.isAdd||u.get(n,"body","")===u.get(e,"data.body","")||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(n,"body","")))})},t.prototype.render=function(){var e=this.props,t=e.data,n=e.form,r=e.isAdd,o=e.result,a=n.getFieldDecorator;return i.createElement(m.default,{style:{paddingTop:10,border:0},title:r?"Добавление новости":u.get(t,"name",""),isAdd:r},i.createElement(c.Form,null,r?i.createElement(c.Card,{title:"Основное"},i.createElement(c.Form.Item,{label:"Видимость"},a("visible",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(c.Switch,null))),i.createElement(c.Form.Item,{label:"Название"},a("name",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"name","")})(i.createElement(f.default,{placeholder:"Название"}))),i.createElement(c.Form.Item,{label:"Статус"},a("enabled",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"enabled","")})(i.createElement(c.Select,null,i.createElement(h,{key:"0"},"Не активен"),i.createElement(h,{key:"1"},"Идет опрос"),i.createElement(h,{key:"2"},"Опрос завершен"))))):o?i.createElement(c.Card,{title:"Основное"},i.createElement(c.Form.Item,{label:"Мульти селект"},a("multi_select",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(f.default,{placeholder:"1"}))),i.createElement(c.Form.Item,{label:"Макс селект"},a("max_select",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(f.default,{placeholder:"1"}))),i.createElement(c.Form.Item,{label:"Мин селект"},a("min_select",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(f.default,{placeholder:"1"}))),i.createElement(c.Form.Item,{label:"Название"},a("name",{rules:[{required:!1,message:"Введите значение"}],initialValue:""})(i.createElement(f.default,{placeholder:"Название вопроса"})))):i.createElement(c.Card,{title:"Основное"},i.createElement(c.Form.Item,{label:"Видимость"},a("enabled",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(c.Switch,null))),i.createElement(c.Form.Item,{label:"Стиль"},a("style",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(c.Select,null,i.createElement(h,{key:"1"},"Вопросы на странице"),i.createElement(h,{key:"2"},"Вопросы лентой")))),i.createElement(c.Form.Item,{label:"Требуется ли авторизации"},a("needAuth",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"title","")})(i.createElement(c.Switch,null))),i.createElement(c.Form.Item,{label:"Название"},a("name",{rules:[{required:!1,message:"Введите значение"}],initialValue:r?"":u.get(t,"name","")})(i.createElement(f.default,{placeholder:"Название"})))),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(u.get(t,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить")))},t.defaultProps={isAdd:!1},t}(i.Component);t.default=l.connect(function(e){return{container:d.getContainer(e)}},function(e){return{updateContainer:function(t,n,r,o){return e(p.ContentAPI.updateContainer(t,n,r,o))},updatePoll:function(t,n,r,o){return e(p.ContentAPI.updatePoll(t,n,r,o))}}})(c.Form.create()(g))},1505:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(77),s=n(20),p=n(40),d=n(180),f=n(22),m=n(25),h=n(66),g=n(1506),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentPeople:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.state={modalVisible:!1,isAdd:!1,currentPeople:null},n}return o(t,e),t.prototype.componentDidMount=function(){(0,this.props.getPeople)()},t.prototype.render=function(){var e=this.props.people,n=this.state,r=n.isAdd,o=n.modalVisible,l=n.currentPeople;return i.createElement(c.Card,{style:{marginLeft:185,height:"100vh"},title:i.createElement(c.Row,null,i.createElement(c.Col,{span:6},i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить спонсора"),i.createElement(c.Button,{icon:"setting",style:{left:10},disabled:!0})),i.createElement(c.Col,{span:5,offset:13},i.createElement(c.Input,{addonBefore:i.createElement(c.Icon,{type:"search"}),placeholder:"Поиск",disabled:!0})))},i.createElement(u.default,{data:e.map(function(e){return a({},e,{category:"Нет категории",updated:p.unix(e.updated_at).format(m.DATE_FORMAT)})}),columns:t.columns,pageSize:e.length,noDataText:"Нет информации",loadingText:"Загрузка...",className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:o,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(g.default,{people:l,closeModal:this.onCloseModal,isAdd:r,type:r?"POST":"PUT"})))},t.columns=[{Header:"Название",accessor:"name",Cell:function(e){var t=s.get(e,"original.img")||"fake";s.get(e,"original.data.subtitle");return i.createElement("div",null,i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:8,className:"image-placeholder",style:{paddingLeft:0,paddingRight:0}},i.createElement(i.Fragment,null,t.includes("http")?i.createElement("img",{src:t,style:{maxWidth:70,maxHeight:70}}):i.createElement(h.default,null))),i.createElement(c.Col,{span:12,style:{margin:"0 0 0 -8px",padding:0}},i.createElement("p",{style:{margin:0,fontWeight:"bold"}},e.original.name),i.createElement("p",null,e.original.mobile))))},style:{width:"fit-content"}},{Header:"Группа",accessor:"category",width:150},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(s.get(e,"original.visible")),className:"content__module-table-switch-position"})},width:100},{Header:"Обновлено",accessor:"updated",width:150}],t}(i.Component);t.default=l.connect(function(e){return{people:f.getPeople(e)}},function(e){return{getPeople:function(){return e(d.PeopleAPI.getPeople())}}})(y)},1506:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(27),p=n(63),d=n(180),f=n(93),m=n(279),h=n(111),g=n(280),y=n(181),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.onSubmit=function(){var e=n.props,t=e.people,r=e.type,o=e.closeModal,i=e.form,l=e.updateEnum,c=e.getPeople;i.validateFields(function(e,s){e||(l(u.get(t,"id",null),r,"people",a({},s,{img:n.state.imageUrl,description:n.state.editorState.getCurrentContent().getPlainText(),visible:+s.visible}),function(){o(),c()}),i.resetFields())})},n.delete=function(e){return function(){return n.props.updateEnum(e,"DELETE","people",{},function(){var e=n.props,t=e.closeModal,r=e.getPeople;t(),r()})}},n.onUploadImage=function(e){return n.props.uploadImage([e],"people",function(e){return n.setState({imageUrl:e[0]})})},n.removeFile=function(){return n.setState({file:null})},n.beforeUploadFile=function(e){return n.setState({file:e}),n.onUploadImage(e),!1},n.state={imageUrl:u.get(n.props.people,"img",null),file:u.get(n.props.people,"img",null),editorState:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.people;e.isAdd||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(t,"description","")))})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.people;t.isAdd||u.get(n,"description","")===u.get(e.people,"description","")||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(n,"description","")))}),null!==n&&null!==e.people&&u.get(this.props.people,"img",null)!==e.people.img&&this.setState({imageUrl:u.get(this.props.people,"img",null),file:u.get(this.props.people,"img",null)})},t.prototype.render=function(){var e=this.props,t=e.people,n=e.form,r=e.isAdd,o=n.getFieldDecorator;return i.createElement(h.default,{title:r?"Добавление спонсора":u.get(t,"name",""),isAdd:r},i.createElement(y.AntColUpperWrapper,null,i.createElement(c.Form,null,i.createElement(g.default,{title:"Основное",extra:i.createElement(i.Fragment,null,i.createElement(y.VisibleFormLabel,null,"Видимость "),i.createElement(c.Form.Item,{style:{zIndex:9999}},o("visible",{rules:[{required:!1}],initialValue:Boolean(u.get(t,"visible",1)),valuePropName:"checked"})(i.createElement(c.Switch,null))))},i.createElement(c.Row,null,i.createElement(c.Col,{span:6},i.createElement(m.default,{files:[this.state.file].filter(function(e){return!!e}),beforeUploadFile:this.beforeUploadFile,onRemove:this.removeFile,imageUrl:this.state.imageUrl})),i.createElement(c.Col,{span:17,offset:1},i.createElement(c.Form.Item,{label:"Имя"},o("name",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"name","")})(i.createElement(p.default,{placeholder:"Имя"}))),i.createElement(c.Form.Item,{label:"Телефон"},o("mobile",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"mobile","")})(i.createElement(p.default,{placeholder:"Телефон"}))),i.createElement(c.Form.Item,{label:"Subtitle"},o("subtitle",{rules:[{required:!1}],initialValue:r?"":u.get(t,"subtitle","")})(i.createElement(p.default,{placeholder:"Subtitle"})))))),i.createElement("br",null),i.createElement(g.default,{title:"Описание"},i.createElement(f.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(u.get(t,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить"))))},t.defaultProps={type:"PUT",isAdd:!1},t}(i.Component);t.default=l.connect(null,function(e){return{updateEnum:function(t,n,r,o,a){e(d.PeopleAPI.updateEnum(t,n,r,o,a))},getPeople:function(){return e(d.PeopleAPI.getPeople())},uploadImage:function(t,n,r){return e(d.PeopleAPI.uploadImage(t,n,r))}}})(c.Form.create()(E))},1507:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(40),s=n(20);n(1508);var p=n(1509),d=n(22),f=n(25),m=n(89),h=n(59),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUpdateEvent=function(e){return function(){return t.props.updateEvent(e)}},t.onAddNotification=function(){return c.notification.warning({message:"!",description:"Для создания нового события обратитесь в SDNA"})},t.getDropDownMenu=function(e){return i.createElement(c.Menu,null,i.createElement(c.Menu.Item,null,i.createElement("span",{onClick:t.onUpdateEvent({name:e.name,id:e.id,timeShift:e.timeShift})},"Сделать активным")))},t}return o(t,e),t.prototype.componentDidMount=function(){(0,this.props.getEvents)()},t.prototype.render=function(){var e=this,n=this.props,r=n.events,o=n.user;r.some(function(e){return-1===e.id})||r.push(a({},r[0],{id:-1}));var l=Math.ceil(r.length/t.rowsNumber),p=0;return i.createElement(c.Card,{style:{marginLeft:185,height:"100vh"}},s.range(0,l).map(function(n){return i.createElement("div",{className:h.default("events","parent"),key:n},s.range(0,t.rowsNumber).map(function(t){if(p===r.length)return i.createElement(i.Fragment,{key:"no_"+t});var n=r[p];p+=1;var a=i.createElement(c.Card,{className:h.default("events","child"),cover:i.createElement("div",{style:{height:158,background:"#4aabe0"}}),actions:[i.createElement(i.Fragment,{key:1}),i.createElement(c.Dropdown,{key:2,overlay:e.getDropDownMenu(n),placement:"topCenter",trigger:["click","hover"]},i.createElement(c.Icon,{type:"ellipsis",style:{transform:"rotate(90deg)",cursor:"pointer"}}))]},n.id===o.appdata.eventID&&i.createElement(c.Badge,{className:h.default("events","badge"),count:i.createElement(c.Icon,{type:"check"}),style:{background:"#52c41a"}}),i.createElement(c.Card.Meta,{title:n.name,description:u.unix(n.starttime).format(f.ONLY_DATE_FORMAT)+" - "+u.unix(n.endtime).format(f.ONLY_DATE_FORMAT)}));return i.createElement(i.Fragment,{key:"column_"+t},-1!==n.id?a:i.createElement(c.Card,{className:h.default("events","child-doted"),style:{border:"1px solid transparent",textAlign:"center",cursor:"pointer"},cover:i.createElement("div",{style:{height:191,background:"#ffffff"}}),onClick:e.onAddNotification},i.createElement(c.Icon,{type:"plus",style:{marginLeft:"auto",marginRight:"auto",position:"relative",transform:"translateY(-50%) scale(3, 3)",top:-72}})))}))}))},t.rowsNumber=3,t}(i.Component);t.default=l.connect(function(e){return{events:d.getEvents(e),user:m.getUserData(e)}},function(e){return{getEvents:function(){return e(p.EventsAPI.getEvents())},updateEvent:function(t){return e(p.EventsAPI.updateEvent(t))}}})(g)},1508:function(e,t,n){},1509:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),l=n(75),c=n(90),u=n(60),s=n(113),p=function(){function e(){}return e.getEvents=function(){return function(e,t){return r(a,void 0,void 0,function(){var n,r,a,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e(u.setContainerData({isLoading:!0})),n=t().auth.token,r=t().auth.user,a=new Headers({authorization:"Bearer "+n,event:r.appdata.eventID.toString()}),[4,l.default.get(c.GET_EVENTS,a)];case 1:return[4,o.sent().json()];case 2:return s=o.sent(),e(u.setEvents({data:s.events})),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить людей",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.updateEvent=function(e){return function(t){return r(a,void 0,void 0,function(){return o(this,function(n){return t(s.updateEvent({name:e.name,id:e.id,timeShift:e.timeShift})),i.notification.success({message:"Событие успешно изменено",description:""}),[2]})})}},e}();t.EventsAPI=p},1510:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(10),c=n(523);n(1511);var u=n(22),s=n(66),p=n(1512),d=l.Select.Option,f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={modalVisible:!1},n}return o(t,e),t.prototype.componentDidMount=function(){(0,this.props.getData)().then(function(e){})},t.prototype.render=function(){var e=this.props.files;Math.ceil(e.length/t.rowsNumber);return a.createElement(l.Card,{style:{marginLeft:185,height:"100vh"},title:a.createElement(l.Form,null,a.createElement(l.Select,{defaultValue:"company",style:{width:120}},a.createElement(d,{key:"company"},"Компании"),a.createElement(d,{key:"people"},"Люди"),a.createElement(d,{key:"ico"},"Значки меню"),a.createElement(d,{key:"misc"},"Прочее")))},a.createElement(p.default,{type:"POST"}),a.createElement("section",{className:"files__wraper"},e.map(function(e){return a.createElement("article",{className:"files"},a.createElement(l.Popconfirm,{title:"Вы точно хотите удалить?",okText:"Да",cancelText:"Нет",placement:"bottom"},a.createElement("div",{className:"files__img__container"},a.createElement("div",{className:"files__img-ring"}),e.url.includes("http")?a.createElement("img",{src:e.url,style:{maxWidth:100,maxHeight:100,cursor:"pointer"}}):a.createElement(s.default,null))))})))},t.rowsNumber=6,t}(a.Component);t.default=i.connect(function(e){return{files:u.getFiles(e)}},function(e){return{getData:function(){return e(c.FilesAPI.getData())}}})(f)},1511:function(e,t,n){},1512:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(10),c=n(523),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(){var e=n.props,t=e.type,r=e.closeModal,o=e.form,a=e.updateEnum,i=e.getMenuData,l=e.uploadImage,c=n.state.file;o.validateFields(function(e){e||(l(c,"ico",function(e){return e.forEach(function(n,o){return a(null,t,"icons",{url:n},o===e.length-1?function(){r(),i("icons")}:void 0)})}),n.setState({file:[],imageUrl:[]}))})},n.removeFile=function(e){return n.setState(function(t){var n=t.file.indexOf(e),r=t.file.slice();return r.splice(n,1),{file:r}})},n.beforeUploadFile=function(e){return n.setState({file:n.state.file.concat([e])}),!1},n.state={imageUrl:null,file:[]},n}return o(t,e),t.prototype.render=function(){return a.createElement(l.Card,null,a.createElement(l.Form,null,a.createElement(l.Upload.Dragger,{beforeUpload:this.beforeUploadFile,onRemove:this.removeFile,fileList:this.state.file.filter(function(e){return!!e}),multiple:!0},a.createElement("p",{className:"ant-upload-drag-icon"},a.createElement(l.Icon,{type:"inbox"})),a.createElement("p",{className:"ant-upload-text"},"Нажмите или перетащите файл в эту область")),a.createElement("br",null),a.createElement(l.Button,{style:{display:"block",margin:"0 auto"},type:"primary",onClick:this.onSubmit},"Добавить")))},t.defaultProps={type:"PUT"},t}(a.Component);t.default=i.connect(null,function(e){return{updateEnum:function(t){e(c.FilesAPI.updateFile(t))},uploadImage:function(t,n,r){return e(c.FilesAPI.uploadImage(t,n,r))}}})(l.Form.create()(u))},1513:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(77),s=n(40),p=n(22),d=n(25),f=n(53),m=n(519),h=function(e){function t(t){var n=e.call(this,t)||this;return n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentEntity:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.state={modalVisible:!1,isAdd:!1,currentEntity:null},n}return o(t,e),t.prototype.componentDidMount=function(){(0,this.props.getMenuData)("locations")},t.prototype.render=function(){var e=this.props.locations,n=this.state,r=n.isAdd,o=n.modalVisible,l=n.currentEntity;return i.createElement(c.Card,{style:{marginLeft:185},title:i.createElement(c.Row,null,i.createElement(c.Col,{span:6},i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить локацию"),i.createElement(c.Button,{icon:"setting",style:{left:10},disabled:!0})),i.createElement(c.Col,{span:5,offset:13},i.createElement(c.Input,{addonBefore:i.createElement(c.Icon,{type:"search"}),placeholder:"Поиск",disabled:!0})))},i.createElement(u.default,{data:e.map(function(e){return a({},e,{descriptionShort:e.description.slice(0,200),category:"Нет категории",updated:s.unix(e.updated_at).format(d.DATE_FORMAT)})}),columns:t.columns,pageSize:e.length,noDataText:"Нет информации",loadingText:"Загрузка...",className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000",maxHeight:"85vh"}}),i.createElement(c.Modal,{visible:o,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(m.default,{entity:l,closeModal:this.onCloseModal,type:r?"POST":"PUT",isAdd:r})))},t.defaultProps={locations:[]},t.columns=[{Header:"Название",accessor:"name",Cell:function(e){return i.createElement("div",{style:{height:80}},i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:2},i.createElement(c.Icon,{type:"environment"})),i.createElement(c.Col,{span:19,offset:1},i.createElement("p",{style:{margin:0,fontWeight:"bold"}},e.original.name),i.createElement("p",{style:{margin:0}},e.original.address))))},style:{width:"fit-content"}},{Header:"Категория",accessor:"category",width:150},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(e.original.visible),className:"content__module-table-switch-position"})},width:100},{Header:"Обновлено",accessor:"updated",Cell:function(e){var t=s.unix(e.original.updated_at).format(d.DATE_FORMAT);return i.createElement(c.Col,{style:{textAlign:"right"}},i.createElement("p",{style:{margin:0}},t.slice(0,10)),i.createElement("p",null,t.slice(10,16)))},width:100}],t}(i.Component);t.default=l.connect(function(e){return{locations:p.getMenuData(e,"locations")}},function(e){return{getMenuData:function(t){return e(f.MenuEditListApi.getMenuData(t))}}})(h)},1514:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(77),s=n(20),p=n(22),d=n(53),f=n(66),m=n(1515),h=n(40),g=n(25),y=function(e){function t(t){var n=e.call(this,t)||this;return n.onRowClick=function(e,t,r){return{onClick:function(){return n.setState({currentEntity:t.original,modalVisible:!0,isAdd:!1})},style:{cursor:"pointer"}}},n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenAddModal=function(){return n.setState({isAdd:!0,modalVisible:!0})},n.state={modalVisible:!1,isAdd:!1,currentEntity:null},n}return o(t,e),t.prototype.componentDidMount=function(){(0,this.props.getMenuData)("company")},t.prototype.render=function(){var e=this.props.company,n=this.state,r=n.isAdd,o=n.modalVisible,l=n.currentEntity;return i.createElement(c.Card,{style:{marginLeft:185,height:"100vh"},title:i.createElement(c.Row,null,i.createElement(c.Col,{span:6},i.createElement(c.Button,{icon:"plus",onClick:this.onOpenAddModal,type:"primary"},"Добавить компанию"),i.createElement(c.Button,{icon:"setting",style:{left:10},disabled:!0})),i.createElement(c.Col,{span:5,offset:13},i.createElement(c.Input,{addonBefore:i.createElement(c.Icon,{type:"search"}),placeholder:"Поиск",disabled:!0})))},i.createElement(u.default,{data:e.map(function(e){return a({},e,{category:"Нет категории",updated:h.unix(e.updated_at).format(g.DATE_FORMAT)})}),columns:t.columns,pageSize:e.length,noDataText:"Нет информации",loadingText:"Загрузка...",className:"-striped -highlight",getTrProps:this.onRowClick,showPagination:!1,resizable:!1,style:{color:"#000000"}}),i.createElement(c.Modal,{visible:o,footer:null,onCancel:this.onCloseModal,width:782},i.createElement(m.default,{people:l,closeModal:this.onCloseModal,isAdd:r,type:r?"POST":"PUT"})))},t.defaultProps={company:[]},t.columns=[{Header:"Название",accessor:"name",Cell:function(e){return i.createElement("div",{style:{height:80}},i.createElement(c.Row,{gutter:24},i.createElement(c.Col,{span:8,className:"image-placeholder",style:{paddingLeft:0,paddingRight:0}},i.createElement(i.Fragment,null,s.get(e,"original.img").includes("http")?i.createElement("img",{src:s.get(e,"original.img"),style:{maxWidth:70,maxHeight:70}}):i.createElement(f.default,null))),i.createElement(c.Col,{span:12,style:{margin:"0 0 0 -8px",padding:0}},i.createElement("p",{style:{margin:0,fontWeight:"bold"}},e.original.name),i.createElement("p",{style:{margin:0}},e.original.announce))))},style:{width:"fit-content"}},{Header:"Группа",accessor:"category",width:150},{Header:"Видимость",accessor:"visible",Cell:function(e){return i.createElement(c.Switch,{checked:Boolean(s.get(e,"original.visible")),className:"content__module-table-switch-position"})},width:100},{Header:"Обновлено",accessor:"updated",width:150}],t}(i.Component);t.default=l.connect(function(e){return{company:p.getMenuData(e,"company")}},function(e){return{getMenuData:function(t){return e(d.MenuEditListApi.getMenuData(t))}}})(y)},1515:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13),c=n(10),u=n(20),s=n(27),p=n(63),d=n(180),f=n(53),m=n(93),h=n(279),g=n(181),y=n(111),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.onSubmit=function(){var e=n.props,t=e.people,r=e.type,o=e.closeModal,i=e.form,l=e.updateEnum,c=e.getMenuData;i.validateFields(function(e,s){e||(l(u.get(t,"id",null),r,"company",a({},s,{img:n.state.imageUrl,description:n.state.editorState.getCurrentContent().getPlainText(),visible:+s.visible}),function(){o(),c("company")}),i.resetFields())})},n.delete=function(e){return function(){return n.props.updateEnum(e,"DELETE","company",{},function(){var e=n.props,t=e.closeModal,r=e.getMenuData;t(),r("company")})}},n.onUploadImage=function(e){return n.props.uploadImage([e],"company",function(e){return n.setState({imageUrl:e[0]})})},n.removeFile=function(){return n.setState({file:null})},n.beforeUploadFile=function(e){return n.setState({file:e}),n.onUploadImage(e),!1},n.state={imageUrl:u.get(n.props.people,"img",null),file:u.get(n.props.people,"img",null),editorState:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.people;e.isAdd||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(t,"description","")))})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.people;t.isAdd||u.get(n,"description","")===u.get(e.people,"description","")||this.setState({editorState:s.EditorState.createWithContent(s.ContentState.createFromText(u.get(n,"description","")))})},t.prototype.render=function(){var e=this.props,t=e.people,n=e.form,r=e.isAdd,o=n.getFieldDecorator;return i.createElement(g.AntColUpperWrapper,null,i.createElement(y.default,{title:r?"Добавление компании":u.get(t,"name",""),isAdd:r},i.createElement(c.Form,null,i.createElement(c.Card,{title:"Основное",extra:i.createElement(i.Fragment,null,i.createElement(g.VisibleFormLabel,null,"Видимость "),i.createElement(c.Form.Item,{style:{zIndex:9999}},o("visible",{rules:[{required:!1}],initialValue:Boolean(u.get(t,"visible",1)),valuePropName:"checked"})(i.createElement(c.Switch,null))))},i.createElement(c.Row,null,i.createElement(c.Col,{span:6},i.createElement(h.default,{files:[this.state.file].filter(function(e){return!!e}),beforeUploadFile:this.beforeUploadFile,onRemove:this.removeFile,imageUrl:this.state.imageUrl})),i.createElement(c.Col,{span:17,offset:1},i.createElement(c.Form.Item,{label:"Название"},o("name",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":u.get(t,"name","")})(i.createElement(p.default,{placeholder:"Название"}))),i.createElement(c.Form.Item,{label:"Аннонс"},o("announce",{rules:[{required:!1}],initialValue:r?"":u.get(t,"announce","")})(i.createElement(p.default,{placeholder:"Аннонс",textArea:!0})))))),i.createElement("br",null),i.createElement(c.Card,{title:"Описание"},i.createElement(m.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),i.createElement("br",null),!r&&i.createElement(c.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(u.get(t,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},i.createElement(c.Button,{type:"danger"},"Удалить")),i.createElement(c.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить"))))},t.defaultProps={type:"PUT",isAdd:!1},t}(i.Component);t.default=l.connect(null,function(e){return{updateEnum:function(t,n,r,o,a){e(d.PeopleAPI.updateEnum(t,n,r,o,a))},getMenuData:function(t){return e(f.MenuEditListApi.getMenuData(t))},uploadImage:function(t,n,r){return e(d.PeopleAPI.uploadImage(t,n,r))}}})(c.Form.create()(E))},1516:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(43),c=n(13),u=n(10),s=n(20),p=n(67),d=n(25),f=n(1517),m=n(22),h=n(89),g=n(59);n(1518);var y=u.DatePicker.RangePicker,E=u.Select.Option,v=function(e){function t(t){var n=e.call(this,t)||this;return n.onSelectApp=function(e){return Promise.resolve(n.props.selectApps(e))},n.onCloseModal=function(){return n.setState({modalVisible:!1})},n.onOpenModal=function(){return n.setState({modalVisible:!0})},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var r={event_name:t.event_name,start_time:t.date[0].unix(),end_time:t.date[1].unix(),timezone:t.timezone,location:t.location};return n.setState({modalVisible:!1}),n.props.newApp(r)}})},n}return o(t,e),t.prototype.componentWillMount=function(){this.setState({modalVisible:!1})},t.prototype.componentDidMount=function(){(0,this.props.getApps)()},t.prototype.render=function(){var e=this,n=this.props,r=n.apps,o=(n.user,this.props.form.getFieldDecorator),l=Array.from({length:23},function(e,t){return t-11});r.some(function(e){return-1===e.id})||r.push(a({},r[0],{id:-1}));var c=Math.ceil(r.length/t.rowsNumber),p=0;return i.createElement(i.Fragment,null,i.createElement(u.Card,{style:{height:"100%",overflowY:"scroll"}},i.createElement("h1",null,"Мои приложения"),i.createElement("div",{className:"content-wraper"},s.range(0,c).map(function(n){return i.createElement("div",{className:g.default("apps","parent"),key:n},s.range(0,t.rowsNumber).map(function(t){if(p===r.length)return i.createElement(i.Fragment,{key:"no_"+t});var n=r[p];p+=1;var o=i.createElement(u.Card,{className:g.default("apps","child"),onClick:function(){return e.onSelectApp(n.id)}},i.createElement(u.Card.Meta,{title:n.name}),i.createElement("div",{className:g.default("apps","icon-wraper")},i.createElement(u.Icon,{type:"caret-right",style:{position:"relative",transform:"translateY(-50%) scale(3, 3)",top:26,left:26}})),i.createElement("span",{style:{position:"relative",top:60}},n.event_name||"Нет названия"));return i.createElement(i.Fragment,{key:"column_"+t},-1!==n.id?o:i.createElement(u.Card,{className:g.default("apps","child"),style:{textAlign:"center",boxShadow:" 1px 2px 3px 0px rgba(50, 50, 50, 0.69)",MozBoxShadow:"1px 2px 3px -1px rgba(50, 50, 50, 0.69)"},onClick:e.onOpenModal},i.createElement(u.Card.Meta,{title:"Создать приложение"}),i.createElement("div",{className:g.default("apps","icon-wraper")},i.createElement(u.Icon,{type:"plus",style:{position:"relative",transform:"translateY(-50%) scale(3, 3)",top:26}})),i.createElement("span",{style:{position:"relative",top:60,opacity:0}},n.event_name||"Добавить")))}))}))),this.state.modalVisible?i.createElement(u.Modal,{style:{top:395,zIndex:999},title:"Создать приложение",visible:this.state.modalVisible,onCancel:this.onCloseModal,onOk:this.handleSubmit,footer:[i.createElement(u.Button,{key:"back",onClick:this.onCloseModal},"Вернуться"),i.createElement(u.Button,{key:"submit",type:"primary",onClick:this.handleSubmit},"Создать приложение")]},i.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.createElement(u.Form,{onSubmit:this.handleSubmit,className:"login-form",style:{minWidth:300}},i.createElement(u.Form.Item,null,o("event_name",{rules:[{required:!0,message:"Пожалуйста, введите номер телефона!"}]})(i.createElement(u.Input,{style:{marginTop:20},prefix:i.createElement(u.Icon,{type:"file-done",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Название",size:"large"}))),i.createElement(u.Form.Item,{label:"Дата проведения события"},o("date",{rules:[{required:!0,message:"Пожалуйста, введите время события!"}]})(i.createElement(y,{showTime:!0,style:{width:300},format:d.DATE_FORMAT}))),i.createElement(u.Form.Item,{label:"Временная зона"},o("timezone",{initialValue:0,rules:[{required:!0,message:"Пожалуйста, введите временную зону!"}]})(i.createElement(u.Select,{placeholder:"Временная зона",style:{width:300}},l.map(function(e){return i.createElement(E,{key:e},e)})))),i.createElement(u.Form.Item,{label:"Локация"},o("location",{initialValue:0,rules:[{required:!0,message:"Пожалуйста, введите локацию!"}]})(i.createElement(u.Input,{style:{width:300},prefix:i.createElement(u.Icon,{type:"picture",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Локация",size:"large"})))))):null)},t.rowsNumber=3,t}(i.Component);t.default=l.compose(p.withRouter,c.connect(function(e){return{apps:m.getApps(e),user:h.getUserData(e)}},function(e){return{getApps:function(){return e(f.AppsAPI.getApps())},selectApps:function(t){return e(f.AppsAPI.selectApps(t))},newApp:function(t){return e(f.AppsAPI.newApp(t))}}}))(u.Form.create()(v))},1517:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),l=n(75),c=n(90),u=n(60),s=n(55),p=n(116),d=function(){function e(){}return e.getApps=function(){return function(e,t){return r(a,void 0,void 0,function(){var n,r,a;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e(u.setContainerData({isLoading:!0})),n=t().auth.token,r=new Headers({authorization:"Bearer "+n}),[4,l.default.post(c.APPS_LIST,r)];case 1:return[4,o.sent().json()];case 2:return a=o.sent(),e(u.setApps({data:a.data})),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить приложения",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.newApp=function(t){return function(n,u){return r(a,void 0,void 0,function(){var r,a,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r=u().auth.token,a=new Headers({authorization:"Bearer "+r}),s={event_name:t.event_name,start_time:t.start_time,end_time:t.end_time,timezone:t.timezone,location:t.location},[4,l.default.post(c.ADD_APP,a,s)];case 1:return[4,o.sent().json()];case 2:return 200===o.sent().code&&n(e.getApps()),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить приложения",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.selectApps=function(e){return function(t,n){return r(a,void 0,void 0,function(){var t,r,a;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t=n().auth.token,r=new Headers({authorization:"Bearer "+t}),a={id:e},[4,l.default.post(c.SELECT_APPS,r,a)];case 1:return[4,o.sent().json()];case 2:return 200===o.sent().code&&s.createBrowserHistory({forceRefresh:!0}).push(p.PATHS.CONTENT),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить приложения",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e}();t.AppsAPI=d},1518:function(e,t,n){},1519:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(43),c=n(67),u=n(134),s=n(10),p=n(20);n(1520);var d=n(1521),f=n(116),m=n(1522),h=n(1523),g=n(168),y=n(89),E=n(113),v=s.Layout.Content,_=s.Layout.Sider,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getContent=function(){var e=t.props,n=e.isAuthLoading,r=e.user;e.location;return n?a.createElement(s.Spin,{size:"large",style:{position:"relative",top:10}}):a.createElement(u.Switch,null,r&&!n?f.privateRoutes:f.publicRoutes)},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,n=e.checkAuth;(0,e.setMenu)(t.pathname);var r=d.parseAll(t.search);n(p.get(r,"token",null))},t.prototype.componentDidUpdate=function(e){return this.props.user!==e.user},t.prototype.render=function(){var e=this.props,t=e.isAuthLoading,n=e.user,r=!t&&!!n,o="/select"!==this.props.location.pathname;return a.createElement(s.Layout,{style:{minHeight:"100vh"}},r&&a.createElement(h.default,null),a.createElement(s.Layout,{style:{top:64,position:"fixed",height:"calc(100vh - 64px)",width:"100%"}},o&&r&&a.createElement(_,{width:200,style:{background:"#fff",height:"calc(100vh - 64px)",position:"fixed"}},a.createElement(m.default,null)),a.createElement(v,{style:{padding:"0 24px",minHeight:280}},this.getContent())))},t}(a.Component);t.default=l.compose(c.withRouter,i.connect(function(e){return{isAuthLoading:y.getAuthLoading(e),user:y.getUserData(e)}},function(e){return{checkAuth:function(t){return e(g.AuthApi.checkAuth(t))},setMenu:function(t){return e(E.setMenu({menuPath:t}))}}}))(b)},1520:function(e,t,n){},1521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseByName=function(e,t){void 0===t&&(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""},t.parseAll=function(e){var t={};return-1===e.indexOf("?")?t:(e.slice(e.indexOf("?")+1).split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n.length>2?""+n.slice(1).join("="):n[1])}),t)}},1522:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(43),c=n(67),u=n(10),s=n(116),p=n(131),d=n(113),f=n(89),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onItemClick=function(e){var n=t.props,r=n.getMenu,o=n.history;switch((0,n.setMenu)(e.key),o.push(e.key),e.key){case s.PATHS.MENU_EDIT:case s.PATHS.CONTENT:r();break;default:return}},t}return o(t,e),t.prototype.render=function(){var e=this.props.appMenu;return a.createElement(u.Menu,{mode:"inline",style:{height:"100%",borderRight:0},onClick:this.onItemClick,selectedKeys:[e]},a.createElement(u.Menu.Item,{key:s.PATHS.CONTENT},"Контент"),a.createElement(u.Menu.Item,{key:s.PATHS.PEOPLE_SECTION},"Люди"),a.createElement(u.Menu.Item,{key:s.PATHS.COMPANY_SECTION},"Компании"),a.createElement(u.Menu.SubMenu,{key:"other",title:a.createElement("span",null,a.createElement("span",null,"Приложение"))},a.createElement(u.Menu.Item,{key:s.PATHS.EVENTS},"События"),a.createElement(u.Menu.Item,{key:s.PATHS.PEOPLE},"Люди"),a.createElement(u.Menu.Item,{key:s.PATHS.COMPANY},"Компании"),a.createElement(u.Menu.Item,{key:s.PATHS.MENU_EDIT},"Меню"),a.createElement(u.Menu.Item,{key:s.PATHS.FILEPICKER},"Изображения и файлы"),a.createElement(u.Menu.Item,{key:s.PATHS.LOCATIONS},"Локации")))},t}(a.Component);t.default=l.compose(c.withRouter,i.connect(function(e){return{appMenu:f.getCurrentMenu(e)}},function(e){return{getMenu:function(){return e(p.CommonApi.getMenu())},setMenu:function(t){return e(d.setMenu({menuPath:t}))}}}))(m)},1523:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,l,c=n(0),u=n(13),s=n(10),p=n(38),d=n(89),f=n(168),m=p.default.div(i||(i=o(["\n  .ant-row{\n    display: flex;\n    justify-content: space-between;\n  }\n  \n  .ant-row span {\n    color: #ffffff;\n  }\n  \n  .ant-layout-header {\n    background: #1890ff;\n    box-shadow: 0 3px 2px rgba(0,0,0,0.22), 0 1px 1px rgba(0,0,0,0.15);\n    position: fixed;\n    width: 100%;\n    z-index: 999;\n  }\n  \n  .ant-col-6 {\n    line-height: 26px;\n  }\n"],["\n  .ant-row{\n    display: flex;\n    justify-content: space-between;\n  }\n  \n  .ant-row span {\n    color: #ffffff;\n  }\n  \n  .ant-layout-header {\n    background: #1890ff;\n    box-shadow: 0 3px 2px rgba(0,0,0,0.22), 0 1px 1px rgba(0,0,0,0.15);\n    position: fixed;\n    width: 100%;\n    z-index: 999;\n  }\n  \n  .ant-col-6 {\n    line-height: 26px;\n  }\n"]))),h=p.default.span(l||(l=o(["\n  color: #ffffff;\n  cursor: pointer;\n  display: block;\n  text-align: end;\n  margin-right: 10%;\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  color: #ffffff;\n  cursor: pointer;\n  display: block;\n  text-align: end;\n  margin-right: 10%;\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.logout;return c.createElement(m,null,c.createElement(s.Layout.Header,null,c.createElement(s.Row,null,c.createElement(s.Col,{style:{width:"fit-content"},span:6},t.appdata?c.createElement("p",null,c.createElement("span",{style:{fontSize:"16pt",fontWeight:"bold"}},t.appdata.eventName),c.createElement("br",null),c.createElement("span",null,t.appdata.name)):c.createElement("p",null,c.createElement("span",{style:{fontSize:"16pt",fontWeight:"bold"}},"Выбор приложения"),c.createElement("br",null),c.createElement("span",null,"Создайте или выберите существующее приложение"))),c.createElement(s.Col,{span:9}),c.createElement(s.Col,{span:5},c.createElement("span",null,t.user_name||t.user_screen_name)),c.createElement(s.Col,{span:2},c.createElement(h,{onClick:n},"Выйти")))))},t}(c.Component);t.default=u.connect(function(e){return{user:d.getUserData(e)}},function(e){return{logout:function(){return e(f.AuthApi.logout())}}})(g)},1524:function(e,t,n){},168:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),c=n(75),u=n(113),s=n(1274),p=n(292),d=n(116),f=n(1275),m=n(25),h=function(){function e(){}return e.checkAuth=function(t){return function(n){return o(i,void 0,void 0,function(){var r,o,i;return a(this,function(a){switch(a.label){case 0:n(u.toggleLoader(!0)),a.label=1;case 1:return a.trys.push([1,4,,5]),r=f.default.getData(m.TOKEN_KEY),[4,c.default.get(s.AUTH+"?token="+(t||r))];case 2:if(!(o=a.sent()).ok)throw!t&&r&&f.default.setToken(""),new Error("No valid token");return[4,o.json()];case 3:return i=a.sent(),n(u.setTokenToLS()),t&&f.default.setToken(t),503!==i.code&&5071!==i.code&&n(u.setUser({user:i,token:t||r})),503===i.code||5071===i.code||Object.keys(d.PATHS).map(function(e){return d.PATHS[e]}).slice(1).some(function(e){return e===window.location.pathname})||p.default.push(d.PATHS.CONTENT),[3,5];case 4:return a.sent(),e.errorAuthMessage(),[3,5];case 5:return n(u.toggleLoader(!1)),[2]}})})}},e.login=function(e){return function(t,n){return o(i,void 0,void 0,function(){var n,o,i;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n=new Headers({}),o={login:e.login,pw:e.password},[4,c.default.post(s.LOGIN,n,o)];case 1:return[4,a.sent().json()];case 2:if(i=a.sent(),t(u.setTokenToLS()),i.token&&f.default.setToken(i.token),503!==i.code&&5071!==i.code&&t(u.setUser(r({},i,{user:i,token:i.token}))),t(u.login()),200!==i.code)throw new Error("No valid login or password");return p.default.push(d.PATHS.SELECT_APP),l.notification.success({message:"Вы успешно вошли",description:"",duration:0}),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось войти",description:"Введите данные заново и попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.toRegistration=function(){return function(e){return o(i,void 0,void 0,function(){return a(this,function(e){try{p.default.push(d.PATHS.SIGNUP)}catch(e){l.notification.error({message:"Не удалось перейти",description:"Перезагрузите страницу и попробуйте снова"})}return[2]})})}},e.signup=function(e){return function(t,n){return o(i,void 0,void 0,function(){var n,r,o;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n=new Headers({}),r={mobile:e.login,pw:e.password,first_name:e.first_name,last_name:e.last_name,email:e.email,event_name:e.event_name,start_date:e.start_date,end_date:e.end_date,timezone:e.timezone,location:e.location},[4,c.default.post(s.SIGNUP,n,r)];case 1:return[4,a.sent().json()];case 2:if(o=a.sent(),t(u.setStatus(o)),200!==o.code)throw new Error("No valid data");return p.default.push(d.PATHS.MAIN),l.notification.success({message:"Отлично! Событие создано",description:"Как только оно будет активировано, вы получите уведомление и сможете начать его редактировать",duration:2}),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось зарегистрироваться",description:"Введите данные заново и попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.logout=function(){return function(e,t){return o(i,void 0,void 0,function(){var n,r;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=t().auth.token,r=new Headers({authorization:"Bearer "+n}),[4,c.default.post(s.LOGOUT,r)];case 1:return o.sent(),p.default.push(d.PATHS.MAIN),e(u.logout()),e(u.setTokenToLS()),localStorage.removeItem("authToken"),l.notification.success({message:"Вы успешно вышли",description:"",duration:0}),[3,3];case 2:return o.sent(),l.notification.error({message:"Не удалось выйти",description:"Попробуйте еще раз"}),[3,3];case 3:return[2]}})})}},e.errorAuthMessage=function(){return l.notification.error({message:"Ошибка входа",description:"Неверный токен",duration:6})},e}();t.AuthApi=h},178:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(10),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.handleChange=n.handleChange.bind(n),n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){e.hasOwnProperty("value")&&this.setState({value:e.value})},t.prototype.render=function(){var e=this.props.text,t=this.state.value;return a.createElement(i.Checkbox,{checked:t,onChange:this.handleChange},e)},t.prototype.handleChange=function(e){var t=e.target.checked;this.setState({value:t}),this.triggerChange(t)},t.prototype.triggerChange=function(e){var t=this.props,n=t.onChange,r=t.customOnChange;n&&n(e),r&&r(e)},t.defaultProps={},t}(a.Component);t.default=l},180:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),c=n(75),u=n(90),s=n(60),p=function(){function e(){}return e.getPeople=function(){return function(e,t){return o(i,void 0,void 0,function(){var n,r,o,i;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),e(s.setContainerData({isLoading:!0})),n=t().auth.token,r=t().auth.user,o=new Headers({authorization:"Bearer "+n,event:r.appdata.eventID.toString()}),[4,c.default.post(u.GET_PEOPLE,o)];case 1:return[4,a.sent().json()];case 2:return i=a.sent(),e(s.setPeople({data:i.data})),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось получить людей",description:"Попробуйте еще раз"}),[3,4];case 4:return e(s.setContainerData({isLoading:!1})),[2]}})})}},e.updateEnum=function(e,t,n,p,d){return function(f,m){return o(i,void 0,void 0,function(){var o,i,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),f(s.setContainerData({isLoading:!0})),o=m().auth.token,i=m().auth.user,h=new Headers({authorization:"Bearer "+o,event:i.appdata.eventID.toString(),id:e?e.toString():null}),[4,c.default.response(u.EDIT_ENUM,t,h,r({},p,{id:e,enumTarget:n}))];case 1:return[4,a.sent().json()];case 2:if(200!==a.sent().code)throw new Error("No changes");return l.notification.success({message:"Успешно обновлено",description:""}),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось обновить",description:"Попробуйте еще раз"}),[3,4];case 4:return d&&d(),[2]}})})}},e.uploadImage=function(t,n,r){return function(l,s){return o(i,void 0,void 0,function(){var o,i,l,p,d,f,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),o=s().auth.token,i=new Headers({authorization:"Bearer "+o}),[4,c.default.post(u.CREATE_UPLOAD_SESSION+"?target="+n,i)];case 1:return(l=a.sent()).ok?[4,l.json()]:[3,5];case 2:return p=a.sent(),d=p.url,f=new FormData,t.forEach(function(e){return f.append("files[]",e)}),[4,c.default.post(d,i,f)];case 3:return[4,a.sent().json()];case 4:return 200==+(m=a.sent()).code?r&&r(m.data.map(function(e){return e.url})):e.uploadErrorMessage(),[3,6];case 5:e.uploadErrorMessage(),a.label=6;case 6:return[3,8];case 7:return a.sent(),e.uploadErrorMessage(),[3,8];case 8:return[2]}})})}},e.uploadErrorMessage=function(){return l.notification.error({message:"Не удалось загрузить",description:"Попробуйте еще раз"})},e}();t.PeopleAPI=p},181:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a,i=n(38);t.AntColUpperWrapper=i.default.div(o||(o=r(["\n  .ant-col-17 {\n    position: relative;\n    top: -26px;\n  }\n  \n  .ant-col-11 {\n    position: relative;\n    top: -26px;\n  }\n"],["\n  .ant-col-17 {\n    position: relative;\n    top: -26px;\n  }\n  \n  .ant-col-11 {\n    position: relative;\n    top: -26px;\n  }\n"]))),t.VisibleFormLabel=i.default.span(a||(a=r(["\n    position: absolute;\n    top: 26px;\n    right: 53px;\n"],["\n    position: absolute;\n    top: 26px;\n    right: 53px;\n"])))},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1475);t.getModules=function(e){return e.common.modules},t.getIcons=function(e){return e.common.icons},t.getContainer=function(e){return e.common.container},t.getPeople=function(e){return e.common.people},t.getEvents=function(e){return e.common.events},t.getMenuData=function(e,t){return e.common.menuData[t]},t.getFiles=function(e){return e.common.files},t.getMenu=function(){return r.createSelector(function(e){return e.common.menu},function(e){return e})},t.getApps=function(e){return e.common.apps}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TESTING_ENV="testing",t.DATE_FORMAT="DD.MM.YYYY HH:mm",t.ONLY_DATE_FORMAT="DD.MM.YYYY",t.SHORT_DATE_FORMAT="DD.MM.YY",t.ONLY_TIME_FORMAT="HH:mm",t.TOKEN_KEY="authToken",t.COORDS_MOSCOW=[55.751244,37.618423]},279:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(10),c=n(38);n(1502);var u,s,p,d=n(59),f=c.default.div(u||(u=o(["\n  .ant-upload.ant-upload-drag {\n    border: 1px solid #d9d9d9;\n    width: 180px;\n    height: 180px;\n  }\n\n  .ant-upload-drag-container > i{\n    opacity: 0;\n  }\n\n  .ant-upload-drag-container:hover > i{\n    opacity: 1;\n  }\n"],["\n  .ant-upload.ant-upload-drag {\n    border: 1px solid #d9d9d9;\n    width: 180px;\n    height: 180px;\n  }\n\n  .ant-upload-drag-container > i{\n    opacity: 0;\n  }\n\n  .ant-upload-drag-container:hover > i{\n    opacity: 1;\n  }\n"]))),m=c.default.div(s||(s=o(["\n    width: 180px;\n    height: 180px;\n    border: 1px dashed #e9e9e9;\n    position: absolute;\n    top: 0;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%) scale(0.9, 0.9);\n"],["\n    width: 180px;\n    height: 180px;\n    border: 1px dashed #e9e9e9;\n    position: absolute;\n    top: 0;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%) scale(0.9, 0.9);\n"]))),h=c.default.div(p||(p=o(["\n  position: relative;\n  top: 10px;\n"],["\n  position: relative;\n  top: 10px;\n"]))),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getImgPreview=function(){var e=t.props.imageUrl;return i.createElement(i.Fragment,null,i.createElement(l.Icon,{type:"delete",className:"uploader__img-close",onClick:t.onRemovePhoto}),i.createElement("img",{alt:"preview",className:d.default("uploader","img"),src:e}))},t.onRemovePhoto=function(e){e.preventDefault();var n=t.props.onRemove;n&&n()},t.getUploadButton=function(){return i.createElement(i.Fragment,null,i.createElement(h,null,i.createElement("span",null,"Перетащите изображение"),i.createElement("br",null),i.createElement("span",null,"или"),i.createElement("br",null),i.createElement(l.Button,{icon:"picture"},"Нажмите")),i.createElement(m,null))},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.beforeUploadFile,n=e.onRemove,r=e.files,o=e.imageUrl;return i.createElement(f,null,i.createElement(l.Upload.Dragger,{beforeUpload:t,onRemove:n,listType:"picture-card",fileList:null},1===r.length?o?this.getImgPreview():i.createElement(l.Spin,null):this.getUploadButton()))},t}(i.Component);t.default=g},280:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,l=n(0),c=n(10),u=n(38).default.div(i||(i=o(["\n  .ant-card-extra {\n    position: relative;\n    top: -10px;\n  }\n  \n  .ant-row .ant-form-item {\n    height: 64px;\n  }\n"],["\n  .ant-card-extra {\n    position: relative;\n    top: -10px;\n  }\n  \n  .ant-row .ant-form-item {\n    height: 64px;\n  }\n"]))),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.extra,r=e.children,o=e.bodyStyle;return l.createElement(u,null,l.createElement(c.Card,{title:t,headStyle:{height:40},bodyStyle:o,extra:n},r))},t}(l.Component);t.default=s},292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);t.default=r.createBrowserHistory()},348:function(e,t,n){var r={"./ru":149,"./ru.js":149};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=348},350:function(e,t,n){var r={"./ru":150,"./ru.js":150};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=350},380:function(e,t,n){var r={"./ru":158,"./ru.js":158};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=380},42:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),c=n(20),u=n(75),s=n(90),p=n(60),d=function(){function e(){}return e.getContainer=function(e){return function(t,n){return o(i,void 0,void 0,function(){var r,i,c,d=this;return a(this,function(f){try{return t(p.setContainerData({isLoading:!0})),r=n().auth.token,i=n().auth.user,c=new Headers({authorization:"Bearer "+r,event:i.appdata.eventID.toString(),container:e.toString()}),[2,u.default.post(s.GET_CONTAINER,c).then(function(n){return o(d,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:return[4,n.json()];case 1:return 200!==(r=o.sent()).code?[2,null]:(t(p.setContainerData({id:e,data:r.data,module:r.module})),t(p.setContainerData({isLoading:!1})),[2,r])}})})}).catch(function(){return l.notification.error({message:"Не удалось получить контейнер",description:"Попробуйте еще раз"})})]}catch(e){l.notification.error({message:"Не удалось получить контейнер",description:"Попробуйте еще раз"})}return t(p.setContainerData({isLoading:!1})),[2]})})}},e.updateContainer=function(t,n,p,d){return function(f,m){return o(i,void 0,void 0,function(){var o,i,h,g,y;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),o=m().auth.token,i=m().auth.user,h=new Headers({authorization:"Bearer "+o,event:i.appdata.eventID.toString(),container:t.toString(),action:n}),g=r({},p,{action:n}),[4,u.default[p.id?"put":"post"](s.UPDATE_CONTAINER,h,g)];case 1:return[4,a.sent().json()];case 2:if(200!==(y=a.sent()).code||y.error_text||c.get(y,"data.error_text",!1))throw new Error("Не удалось");return l.notification.success({message:"Контейнер успешно обновлен",description:""}),f(e.getContainer(t)),d&&d(),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось обновить контейнер",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.updatePoll=function(t,n,c,p){return function(d,f){return o(i,void 0,void 0,function(){var o,i,m,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),o=f().auth.token,i=f().auth.user,m=new Headers({authorization:"Bearer "+o,event:i.appdata.eventID.toString(),container:t.toString(),action:n}),h=r({},c,{action:n}),[4,u.default.post(s.UPDATE_CONTAINER,m,h)];case 1:return[4,a.sent().json()];case 2:if(200!==a.sent().code)throw new Error("Не удалось");return l.notification.success({message:"Контейнер успешно обновлен",description:""}),d(e.getContainer(36)),p&&p(),[3,4];case 3:return a.sent(),l.notification.error({message:"Не удалось обновить контейнер",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e}();t.ContentAPI=d},476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=n(25);t.promiseTimesout=function(e,t){return new Promise(function(n,r){setTimeout(function(){return r(new Error("Timeout"))},e),t.then(n,r)})},t.timeFromUnixToFormat=function(e,t){return void 0===t&&(t=o.DATE_FORMAT),0!==e?r.unix(e).utc().format(t):e.toString()}},478:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(43),l=n(13),c=n(67),u=n(10),s=n(25);n(1276);var p=n(168),d=n(89),f=u.DatePicker.RangePicker,m=u.Select.Option,h=u.Layout.Sider,g=u.Steps.Step,y=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSubmit=function(e){n.props.form.validateFields(["event_name","date","timezone","location"],function(e,t){if(!e){n.setState({current:n.state.current+1});var r={login:n.state.login,password:n.state.password,first_name:n.state.first_name,last_name:n.state.last_name,email:n.state.email,event_name:t.event_name,start_date:t.date[0].unix(),end_date:t.date[1].unix(),timezone:t.timezone,location:t.location};return n.props.signup(r)}})},n}return o(t,e),t.prototype.componentWillMount=function(){this.setState({current:0,login:"",password:"",first_name:"",last_name:"",email:""})},t.prototype.render=function(){var e=this,t=this.state.current,n=this.props.form.getFieldDecorator,r=Array.from({length:23},function(e,t){return t-11}),o=[{title:"Регистрация",content:a.createElement(h,{className:"reg__form",width:420},a.createElement("h1",{className:"reg__label"},"Регистрация"),a.createElement("div",{className:"reg__wraper"},a.createElement(u.Form,{onSubmit:this.handleSubmit,className:"login-form"},a.createElement(u.Form.Item,{label:"Введите ваш номер телефона"},n("login",{rules:[{required:!0,message:"Пожалуйста, введите номер телефона!"}]})(a.createElement(u.Input,{prefix:a.createElement(u.Icon,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Телефон",size:"large"}))),a.createElement(u.Form.Item,{label:"Введите ваш пароль"},n("password",{rules:[{required:!0,message:"Пожалуйста, введите пароль!"}]})(a.createElement(u.Input,{prefix:a.createElement(u.Icon,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",size:"large",placeholder:"Пароль"}))),a.createElement(u.Form.Item,{label:"Введите ваше имя"},n("name",{rules:[{required:!0,message:"Пожалуйста, введите имя!"}]})(a.createElement(u.Input,{prefix:a.createElement(u.Icon,{type:"idcard",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Имя"}))),a.createElement(u.Form.Item,{label:"Введите вашу фамилию"},n("surname",{rules:[{required:!0,message:"Пожалуйста, введите фамилию!"}]})(a.createElement(u.Input,{prefix:a.createElement(u.Icon,{type:"idcard",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"Фамилия"}))),a.createElement(u.Form.Item,{label:"Введите ваш почтовый ящик"},n("email",{rules:[{type:"email",message:"Пожалуйста, введите валидный E-mail!"},{required:!0,message:"Пожалуйста, введите E-mail!"}]})(a.createElement(u.Input,{prefix:a.createElement(u.Icon,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"E-mail"}))))))},{title:"Событие",content:a.createElement(h,{className:"reg__form",width:420},a.createElement("h1",{className:"reg__label"},"Создание события"),a.createElement("div",{className:"reg__wraper"},a.createElement(u.Form,{onSubmit:this.handleSubmit,className:"login-form",style:{minWidth:300}},a.createElement(u.Form.Item,{label:"Название события"},n("event_name",{rules:[{required:!0,message:"Пожалуйста, введите номер телефона!"}]})(a.createElement(u.Input,{style:{width:300},prefix:a.createElement(u.Icon,{type:"file-done",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Название",size:"large"}))),a.createElement(u.Form.Item,{label:"Дата проведения события"},n("date",{rules:[{required:!0,message:"Пожалуйста, введите время события!"}]})(a.createElement(f,{showTime:!0,style:{width:300},format:s.DATE_FORMAT}))),a.createElement(u.Form.Item,{label:"Временная зона"},n("timezone",{initialValue:0,rules:[{required:!0,message:"Пожалуйста, введите временную зону!"}]})(a.createElement(u.Select,{placeholder:"Временная зона",style:{width:300}},r.map(function(e){return a.createElement(m,{key:e},e)})))),a.createElement(u.Form.Item,{label:"Локация"},n("location",{initialValue:0,rules:[{required:!0,message:"Пожалуйста, введите локацию!"}]})(a.createElement(u.Input,{style:{width:300},prefix:a.createElement(u.Icon,{type:"picture",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Локация",size:"large"}))))))},{title:"Готово!",content:a.createElement("div",{className:"reg__end"},200===this.props.getCurrentStatus?a.createElement(a.Fragment,null,a.createElement("span",{style:{color:"#52c41a"}},"Отлично! "),a.createElement("span",null,"Регистрация завершена."),a.createElement("p",null,"Нажмите на кнопку, чтобы войти в аккаунт")):a.createElement("div",null,"Что-то пошло не так..."))}];return a.createElement(a.Fragment,null,a.createElement(u.Steps,{style:{width:600,margin:"15px auto"},current:t},o.map(function(e){return a.createElement(g,{key:e.title,title:e.title})})),a.createElement("div",{className:"steps-content"},o[t].content),a.createElement("div",{className:"steps-action"},0===t&&a.createElement(u.Button,{type:"primary",onClick:function(){return e.next()}},"Вперед"),1===t&&a.createElement(u.Button,{type:"primary",onClick:this.handleSubmit},"Создать"),2===t&&200===this.props.getCurrentStatus&&a.createElement(u.Button,{type:"primary",onClick:this.handleSubmit},"Войти")))},t.prototype.next=function(){var e=this;this.props.form.validateFields(["login","password","name","surname","email"],function(t,n){t||e.setState({current:e.state.current+1,login:n.login,password:n.password,first_name:n.name,last_name:n.surname,email:n.email})})},t}(a.Component),E={signup:p.AuthApi.signup};t.default=i.compose(c.withRouter,l.connect(function(e){return{getCurrentStatus:d.getCurrentStatus(e)}},E))(u.Form.create()(y))},519:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var l,c,u=n(0),s=n(13),p=n(10),d=n(20),f=n(1495),m=n(27),h=n(93),g=n(38),y=n(180),E=n(25),v=n(63),_=n(53),b=n(279),C=n(92),w=n(111),O=n(280),S=n(181),P=g.default.div(l||(l=o(["\n  .ant-form-item-label {\n    top: 10px !important;\n  }\n"],["\n  .ant-form-item-label {\n    top: 10px !important;\n  }\n"]))),A=g.default.div(c||(c=o(["\n  .ant-card-head-wrapper {\n    height: 20px;\n  }\n  \n  .ant-card-head-wrapper {\n    height: 40px;\n  }\n  \n  .ant-card-extra {\n    top: -10px;\n    position: relative;\n  }\n"],["\n  .ant-card-head-wrapper {\n    height: 20px;\n  }\n  \n  .ant-card-head-wrapper {\n    height: 40px;\n  }\n  \n  .ant-card-extra {\n    top: -10px;\n    position: relative;\n  }\n"]))),M=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeText=function(e){return n.setState({editorState:e})},n.onMapClick=function(e){var t=e.get("coords");n.props.form.setFieldsValue({latitude:t[0],longitude:t[1]})},n.onSubmit=function(){var e=n.props,t=e.entity,r=e.type,o=e.closeModal,a=e.form,l=e.updateEnum,c=e.getMenuData,u=n.state.editorState;a.validateFields(function(e,n){e||(l(d.get(t,"id",null),r,"locations",i({},n,{description:u?u.getCurrentContent().getPlainText():"",visible:+n.visible}),function(){o(),c("locations")}),a.resetFields())})},n.delete=function(e){return function(){return n.props.updateEnum(e,"DELETE","locations",{},function(){var e=n.props,t=e.closeModal,r=e.getMenuData;t(),r("locations")})}},n.state={editorState:null},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.entity;e.isAdd||this.setState({editorState:m.EditorState.createWithContent(m.ContentState.createFromText(d.get(t,"description","")))})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.entity;t.isAdd||d.get(n,"description","")===d.get(e.entity,"description","")||this.setState({editorState:m.EditorState.createWithContent(m.ContentState.createFromText(d.get(n,"description","")))})},t.prototype.render=function(){var e=this.props,t=e.entity,n=e.form,r=e.isAdd,o=n.getFieldDecorator,a=n.getFieldsValue(["latitude","longitude"]),i=[a.latitude?a.latitude:E.COORDS_MOSCOW[0],a.longitude?a.longitude:E.COORDS_MOSCOW[1]];return u.createElement(w.default,{title:r?"Добавление локации":d.get(t,"name",""),isAdd:r},u.createElement(S.AntColUpperWrapper,null,u.createElement(p.Form,null,u.createElement(A,null,u.createElement(O.default,{title:"Основное",extra:u.createElement(u.Fragment,null,u.createElement(S.VisibleFormLabel,null,"Видимость "),u.createElement(p.Form.Item,{style:{zIndex:9999}},o("visible",{rules:[{required:!1}],initialValue:Boolean(d.get(t,"visible",1)),valuePropName:"checked"})(u.createElement(p.Switch,null))))},u.createElement(p.Row,null,u.createElement(p.Col,{span:6},u.createElement(b.default,{files:[]})),u.createElement(p.Col,{span:17,offset:1},u.createElement(p.Form.Item,{label:"Название"},o("name",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":d.get(t,"name","")})(u.createElement(v.default,{placeholder:"Название"}))),u.createElement(p.Form.Item,{label:"Категории"},o("category",{rules:[{required:!1,message:"Введите значение"}],initialValue:"Нет категории"})(u.createElement(C.default,{placeholder:"Категории",disabled:!0}))))))),u.createElement("br",null),u.createElement(O.default,{title:"Адрес"},u.createElement(p.Row,null,u.createElement(p.Col,{span:11},u.createElement(P,null,u.createElement(p.Form.Item,{label:"Адрес",style:{minHeight:117}},o("address",{rules:[{required:!0,message:"Введите значение"}],initialValue:r?"":d.get(t,"address","")})(u.createElement(v.default,{placeholder:"Адрес",textArea:!0})))),u.createElement(p.Row,null,u.createElement(p.Col,{span:12},u.createElement(p.Form.Item,{label:"Широта"},o("latitude",{rules:[{required:!1}],initialValue:r?"":d.get(t,"latitude","")})(u.createElement(v.default,{placeholder:"Широта"})))),u.createElement(p.Col,{span:12},u.createElement(p.Form.Item,{label:"Долгота"},o("longitude",{rules:[{required:!1}],initialValue:r?"":d.get(t,"longitude","")})(u.createElement(v.default,{placeholder:"Долгота"})))))),u.createElement(p.Col,{span:12,offset:1},u.createElement(f.YMaps,null,u.createElement(f.Map,{defaultState:{center:i,zoom:16,controls:["zoomControl"]},state:{center:i,zoom:16,controls:["zoomControl"]},width:"100%",onClick:this.onMapClick},u.createElement(f.Placemark,{geometry:{type:"Point",coordinates:i}})))))),u.createElement("br",null),u.createElement(O.default,{title:"Описание"},u.createElement(h.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",localization:{locale:"ru"},editorState:this.state.editorState,onEditorStateChange:this.onChangeText})),u.createElement("br",null),!r&&u.createElement(p.Popconfirm,{title:"Вы уверены?",onConfirm:this.delete(d.get(t,"id",null)),okText:"Да",cancelText:"Нет",placement:"bottom"},u.createElement(p.Button,{type:"danger"},"Удалить")),u.createElement(p.Button,{type:"primary",onClick:this.onSubmit,style:{position:"relative",left:r?630:542}},r?"Добавить":"Сохранить"))))},t.defaultProps={type:"PUT",isAdd:!1},t}(u.Component);t.default=s.connect(null,function(e){return{updateEnum:function(t,n,r,o,a){e(y.PeopleAPI.updateEnum(t,n,r,o,a))},getMenuData:function(t){return e(_.MenuEditListApi.getMenuData(t))}}})(p.Form.create()(M))},523:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),l=n(75),c=n(90),u=n(60),s=function(){function e(){}return e.getData=function(){return function(e,t){return r(a,void 0,void 0,function(){var n,r,a,s,p,d;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e(u.setContainerData({isLoading:!0})),n=t().auth.token,r=t().auth.user,a=new Headers({authorization:"Bearer "+n,event:r.appdata.eventID.toString()}),s={action:"list",target:"company"},[4,l.default.post(c.GET_FILES,a,s)];case 1:return[4,o.sent().json()];case 2:return p=o.sent(),e(u.setFiles({data:p.data})),[2,p];case 3:return d=o.sent(),i.notification.error({message:"Не удалось получить никого",description:d}),[3,4];case 4:return[2]}})})}},e.updateFile=function(t){return function(t){return r(a,void 0,void 0,function(){return o(this,function(n){return t(e.getData()),i.notification.success({message:"Событие успешно изменено",description:""}),[2]})})}},e.uploadImage=function(e,t,n){return function(u,s){return r(a,void 0,void 0,function(){var r,a,u,p,d,f,m,h,g,y,E;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,12,,13]),r=s().auth.token,a=s().auth.user,u=new Headers({authorization:"Bearer "+r}),[4,l.default.post(c.CREATE_UPLOAD_SESSION+"?target="+t,u)];case 1:return(p=o.sent()).ok?[4,p.json()]:[3,10];case 2:return d=o.sent(),f=d.url,m=new FormData,e.forEach(function(e){return m.append("files[]",e)}),[4,l.default.post(f,u,m)];case 3:return[4,o.sent().json()];case 4:h=o.sent(),g=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),y=0,o.label=5;case 5:return y<h.data.length?(E={action:"add",target:"company",event_id:134,url:h.data[y].url},[4,l.default.post(c.GET_FILES,g,E)]):[3,9];case 6:return[4,o.sent().json()];case 7:o.sent(),o.label=8;case 8:return y++,[3,5];case 9:return 200==+h.code?n&&n(h.data.map(function(e){return e.url})):i.notification.error({message:"Не удалось загрузить",description:"Попробуйте еще раз"}),[3,11];case 10:i.notification.error({message:"Не удалось загрузить",description:"Попробуйте еще раз"}),o.label=11;case 11:return[3,13];case 12:return o.sent(),i.notification.error({message:"Не удалось загрузить",description:"Попробуйте еще раз"}),[3,13];case 13:return[2]}})})}},e}();t.FilesAPI=s},524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(9),a=n(13),i=n(134),l=n(571),c=n(292),u=n(577),s=n(1519);n(1524);var p=u.configureStore(),d=document.getElementById("root");try{o.render(r.createElement(a.Provider,{store:p},r.createElement(i.Router,{history:c.default},r.createElement("div",{className:"app"},r.createElement(s.default,null)))),d)}catch(e){o.render(r.createElement(l.default,{error:e}),d)}},53:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this;Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),l=n(20),c=n(75),u=n(90),s=n(131),p=n(60),d=function(){function e(){}return e.updateMenu=function(e,t,n){return function(l,p){return r(a,void 0,void 0,function(){var r,a,d,f;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r=p().auth.token,a=p().auth.user,d=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),[4,c.default.put(u.UPDATE_MENUS,d,(f={id:e},f[t]=n,f))];case 1:return[4,o.sent().json()];case 2:if(200!==o.sent().code)throw new Error("No changes");return i.notification.success({message:"Успешно обновлено",description:"Поле: "+t+"\nЗначение: "+n}),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось изменить",description:"Попробуйте еще раз"}),[3,4];case 4:return l(s.CommonApi.getMenu()),[2]}})})}},e.updateSort=function(e){return function(t,n){return r(a,void 0,void 0,function(){var r,a,l;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=n().auth.token,a=n().auth.user,l=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString(),order:JSON.stringify(e)}),[4,c.default.post(u.SORT_UPDATE_MENUS,l)];case 1:return o.sent(),[3,3];case 2:return o.sent(),i.notification.error({message:"Не удалось изменить сортировку",description:"Попробуйте еще раз"}),[3,3];case 3:return t(s.CommonApi.getMenu()),[2]}})})}},e.removeMenu=function(e){return function(t,n){return r(a,void 0,void 0,function(){var r,a,l;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=n().auth.token,a=n().auth.user,l=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString(),id:e.toString()}),[4,c.default.delete(u.UPDATE_MENUS,l)];case 1:return o.sent(),[3,3];case 2:return o.sent(),i.notification.error({message:"Не удалось удалить меню",description:"Попробуйте еще раз"}),[3,3];case 3:return t(s.CommonApi.getMenu()),[2]}})})}},e.addMenu=function(e){return function(t,n){return r(a,void 0,void 0,function(){var r,a,p;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=n().auth.token,a=n().auth.user,p=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),[4,c.default.post(u.UPDATE_MENUS,p,e)];case 1:return o.sent(),i.notification.success({message:"Меню успешно добавлено",description:'Меню: "'+l.get(e,"name","")+'"'}),[3,3];case 2:return o.sent(),i.notification.error({message:"Не удалось добавить меню",description:"Попробуйте еще раз"}),[3,3];case 3:return t(s.CommonApi.getMenu()),[2]}})})}},e.getIcons=function(){return function(e,t){return r(a,void 0,void 0,function(){var n,r,a;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n=t().auth.token,r=new Headers({authorization:"Bearer "+n}),[4,c.default.post(u.GET_APP_ICONS,r)];case 1:return[4,o.sent().json()];case 2:return a=o.sent(),e(p.setIcons({data:a.data})),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить иконки",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e.getMenuData=function(e){return function(t,n){return r(a,void 0,void 0,function(){var r,a,l,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),r=n().auth.token,a=n().auth.user,l=new Headers({authorization:"Bearer "+r,event:a.appdata.eventID.toString()}),[4,c.default.get(u.EDIT_ENUM+"?id=-1&enumTarget="+e,l)];case 1:return[4,o.sent().json()];case 2:return s=o.sent(),t(p.setMenuData({data:s.data,key:e})),[3,4];case 3:return o.sent(),i.notification.error({message:"Не удалось получить данные",description:"Попробуйте еще раз"}),[3,4];case 4:return[2]}})})}},e}();t.MenuEditListApi=d},577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),o=(n(578),n(579)),a=n(580),i=n(581),l="production"===n(25).TESTING_ENV;t.configureStore=function(){var e=o.createLogger({collapsed:!0}),t=l?r.applyMiddleware(a.default,e):r.applyMiddleware(a.default),n=r.createStore(i.default,t);return n.dispatch({type:"@@redux/INIT"}),n}},581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),o=n(113),a=n(60);t.default=r.combineReducers({common:a.default,auth:o.default})},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1278);t.default=r.B({modSeparator:"-",modValueSeparator:"-"})},60:function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(293);t.setFiles=a.createAction("@@common/SET_FILE"),t.setModule=a.createAction("@@common/SET_MODULE"),t.setMenu=a.createAction("@@common/SET_MENU"),t.setIcons=a.createAction("@@common/SET_ICONS"),t.setContainerData=a.createAction("@@common/SET_CONTAINER"),t.setPeople=a.createAction("@@common/SET_PEOPLE"),t.setEvents=a.createAction("@@common/SET_EVENTS"),t.setMenuData=a.createAction("@@common/SET_MENU_DATA"),t.setCurrentEntity=a.createAction("@@common/SET_CURRENT_ENTITY"),t.setApps=a.createAction("@@common/SET_APPS"),t.default=a.handleActions(((o={})[t.setModule.toString()]=function(e,t){return r({},e,{modules:t.payload.data})},o[t.setCurrentEntity.toString()]=function(e,t){return r({},e,{currentEntity:t.payload})},o[t.setMenu.toString()]=function(e,t){return r({},e,{menu:t.payload})},o[t.setFiles.toString()]=function(e,t){return r({},e,{files:t.payload.data})},o[t.setIcons.toString()]=function(e,t){return r({},e,{icons:t.payload.data})},o[t.setContainerData.toString()]=function(e,t){return r({},e,{container:r({},e.container,t.payload)})},o[t.setPeople.toString()]=function(e,t){return r({},e,{people:t.payload.data})},o[t.setEvents.toString()]=function(e,t){return r({},e,{events:t.payload.data})},o[t.setApps.toString()]=function(e,t){return r({},e,{apps:t.payload.data})},o[t.setMenuData.toString()]=function(e,t){return r({},e,{menuData:r({},e.menuData,(n={},n[t.payload.key]=t.payload.data,n))});var n},o),{files:[],apps:[],modules:[],menu:{data:[],isOk:!0},icons:[],people:[],events:[],container:{data:null,module:null,isLoading:!1,id:null},menuData:{},currentEntity:null})},601:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(67),c=n(38),u=n(626),s=n(478);n(1277);var p,d=n(59),f=c.default.div(p||(p=o(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n"],["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n"]))),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props.type;return i.createElement(f,null,i.createElement("div",null,i.createElement("div",{className:d.default("info","text",{header:!0,center:!0})},this.getTextByType(e))))},t.prototype.getTextByType=function(e){switch(e){case"Forbidden":return i.createElement(u.default,null);case"SignUp":return i.createElement(s.default,null);case"Development":return"В разработке";case"NotFound":return"Страница не найдена";case"Error":return"Мы уже исправляем ошибку!";default:return""}},t}(i.Component);t.default=l.withRouter(m)},626:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(13),l=n(10),c=n(168),u=l.Layout.Sider,s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var r={login:t.login,password:t.password};return n.props.login(r)}})},n.handleSignUp=function(){return n.props.toRegistration()},n.remindPass=function(){l.notification.warning({message:"Такого еще нет",description:"Скоро будет"})},n}return o(t,e),t.prototype.render=function(){var e=this.props.form.getFieldDecorator;return a.createElement(u,{width:450,style:{display:"block",background:"#fff",margin:"0 auto",borderRadius:15,padding:30,textAlign:"start",boxShadow:"1px 2px 3px -1px rgba(50, 50, 50, 0.69)"}},a.createElement("div",{style:{width:312,display:"block",margin:"0 auto"}},a.createElement("h1",{style:{fontSize:"1.2em",margin:"0px auto 8px 0px"}},"Вход"),a.createElement(l.Form,{onSubmit:this.handleSubmit,className:"login-form",style:{textAlign:"center"}},a.createElement(l.Form.Item,null,e("login",{rules:[{required:!0,message:"Пожалуйста, введите номер телефона!"}]})(a.createElement(l.Input,{prefix:a.createElement(l.Icon,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Телефон",size:"large"}))),a.createElement(l.Form.Item,null,e("password",{rules:[{required:!0,message:"Пожалуйста, введите пароль!"}]})(a.createElement(l.Input,{prefix:a.createElement(l.Icon,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",size:"large",placeholder:"Пароль"}))),a.createElement(l.Form.Item,null,a.createElement(l.Button,{style:{border:0,background:"transparent",boxShadow:"unset"},onClick:this.remindPass},"Забыли пароль?"),a.createElement(l.Button,{style:{width:"100%"},type:"primary",htmlType:"submit",className:"login-form-button"},"Войти"),a.createElement("a",{onClick:this.handleSignUp},"Или зарегистрироваться сейчас!")))))},t}(a.Component),p={login:c.AuthApi.login,toRegistration:c.AuthApi.toRegistration};t.default=i.connect(null,p)(l.Form.create()(s))},63:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(10),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.handleChange=n.handleChange.bind(n),n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){e.hasOwnProperty("value")&&this.setState({value:e.value})},t.prototype.render=function(){var e=this.props,t=e.onKeyPress,n=e.type,r=e.placeholder,o=e.style,c=e.onBlur,u=e.textArea,s=e.minAreaHeight,p=this.state.value;return u?i.createElement(l.Input.TextArea,{value:p,placeholder:r,onChange:this.handleChange,style:a({},o,{minHeight:s}),onBlur:c}):i.createElement(l.Input,{type:n,value:p,onPressEnter:t,placeholder:r,onChange:this.handleChange,style:o,onBlur:c})},t.prototype.handleChange=function(e){var t=this.props.updateText,n=e.target.value;t&&(n=t(this.state.value,n)),this.setState({value:n}),this.triggerChange(n)},t.prototype.triggerChange=function(e){var t=this.props,n=t.onChange,r=t.customOnChange;n&&n(e),r&&r(e)},t.defaultProps={textArea:!1,minAreaHeight:100},t}(i.Component);t.default=c},66:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.onClick;return i.createElement("div",{style:a({background:"grey",border:"1px solid grey",borderRadius:40,width:40,height:40,cursor:"pointer",position:"relative",left:6},t),onClick:n})},t}(i.Component);t.default=l},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1271),o=n(476),a=function(){function e(){}return e.response=function(t,n,a,i){return o.promiseTimesout(e.timeout,r(t,{method:n,headers:a,body:i instanceof FormData?i:JSON.stringify(i),credentials:"same-origin"}))},e.get=function(t,n,r){return e.response(t,"GET",n,r)},e.post=function(t,n,r){return e.sendWithData("POST",t,n,r)},e.put=function(t,n,r){return e.sendWithData("PUT",t,n,r)},e.delete=function(t,n,r){return e.sendWithData("DELETE",t,n,r)},e.sendWithData=function(t,n,r,o){return e.response(n,t,r,o)},e.timeout=1e4,e}();t.default=a},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserData=function(e){return e.auth.user},t.getAuthLoading=function(e){return e.auth.loading},t.getCurrentMenu=function(e){return e.auth.path},t.getCurrentStatus=function(e){return e.auth.code}},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_APP="/api/new-app",t.APPS_LIST="/api/apps-list",t.SELECT_APPS="/api/select-app",t.GET_FILES="/api/filemanager",t.GET_MENUS="/api/menu",t.GET_MODULES="/api/get-modules",t.GET_PEOPLE="/api/peoples-app",t.GET_EVENTS="/api/events-list",t.GET_APP_ICONS="/api/app-icons",t.GET_CONTAINER="/api/container",t.EDIT_ENUM="/api/edit-enum",t.UPLOAD_IMAGE="/api/upload",t.UPDATE_MENUS="/api/menu-crud",t.UPDATE_CONTAINER="/api/content-crud",t.SORT_UPDATE_MENUS="/api/menu-order-update",t.CREATE_UPLOAD_SESSION="/api/create-upload-session"},92:function(e,t,n){"use strict";var r,o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,l=n(0),c=n(10),u=n(38).default.div(i||(i=o(["\n  .ant-select-selection__placeholder {\n    display: none !important;\n  }\n"],["\n  .ant-select-selection__placeholder {\n    display: none !important;\n  }\n"]))),s=function(e){function t(t){var n=e.call(this,t)||this;return n.clearValue=function(){var e=n.props.onClear;n.handleChange(""),e&&e()},n.state={value:n.props.value},n.handleChange=n.handleChange.bind(n),n.clearValue=n.clearValue.bind(n),n}return a(t,e),t.prototype.componentWillReceiveProps=function(e){e.hasOwnProperty("value")&&this.setState({value:e.value})},t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.data,r=e.onPick,o=e.disabled,a=e.style,i=e.filter,s=e.prefixAddon,p=e.dropdownClassName,d=this.state.value;return l.createElement(u,null,l.createElement(c.AutoComplete,{value:d,dataSource:n,placeholder:t,filterOption:i,onChange:this.handleChange,onSelect:r,style:a,dropdownClassName:p,disabled:o},l.createElement(c.Input,{className:"input",placeholder:t,disabled:o,addonBefore:s,suffix:o?null:l.createElement(c.Icon,{type:"close",onClick:this.clearValue}),autoComplete:"off"})))},t.prototype.handleChange=function(e){var t=this.props.updateText;t&&(e=t(this.state.value,e)),this.props.hasOwnProperty("value")||this.setState({value:e}),this.triggerChange(e)},t.prototype.triggerChange=function(e){var t=this.props,n=t.onChange,r=t.customOnChange;n&&n(e),r&&r(e)},t.defaultProps={clearButton:!0,data:[],disabled:!1,style:null,dropdownClassName:"",prefixAddon:null,filter:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},t}(l.Component);t.default=s}});